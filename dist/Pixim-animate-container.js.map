{"version":3,"file":"Pixim-animate-container.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/Bitmap.ts","../src/Sprite.ts","../src/AnimateLoader.ts","../src/loadJS.ts","../src/AnimateManifest.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.0.5\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nexport { default as createjs } from '@tawaship/createjs-module';\nimport { Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text, utils } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\n/**\r\n * @ignore\r\n */\r\nlet _isDown = false;\r\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._events = {\r\n            pointerdown: [],\r\n            pointerover: [],\r\n            pointerout: [],\r\n            pointermove: [],\r\n            pointerup: [],\r\n            pointerupoutside: []\r\n        };\r\n        this._data = {\r\n            mousedown: {\r\n                types: ['pointerdown'],\r\n                factory: (cb) => {\r\n                    return this._mousedownFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollover: {\r\n                types: ['pointerover'],\r\n                factory: (cb) => {\r\n                    return this._rolloverFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollout: {\r\n                types: ['pointerout'],\r\n                factory: (cb) => {\r\n                    return this._rolloutFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressmove: {\r\n                types: ['pointermove'],\r\n                factory: (cb) => {\r\n                    console.log(cb);\r\n                    return this._pressmoveFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressup: {\r\n                types: ['pointerup', 'pointerupoutside'],\r\n                factory: (cb) => {\r\n                    return this._pressupFactory(cjs, cb);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    add(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        const func = data.factory(cb);\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            this._events[t].push({ func, origin: cb });\r\n            pixi.on(t, func);\r\n        }\r\n        pixi.interactive = true;\r\n    }\r\n    remove(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            const list = this._events[t];\r\n            if (list) {\r\n                for (var j = list.length - 1; j >= 0; j--) {\r\n                    if (list[j].origin === cb) {\r\n                        pixi.off(t, list[j].func);\r\n                        list.splice(j, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                if (list.length === 0) {\r\n                    this._events[t] = [];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _mousedownFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            _isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloverFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            //_isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloutFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            //_isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressmoveFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!_isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressupFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!_isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            _isDown = false;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\nfunction resolvePath(path, basepath) {\r\n    return utils.url.resolve(basepath, path);\r\n}\r\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param comp Composition obtained from `AdobeAn.getComposition`.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(comp, basepath, options = {}) {\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = basepath.replace(/([^\\/])$/, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false);\r\n        loader.installPlugin(createjs.Sound);\r\n        const errors = [];\r\n        loader.addEventListener('fileload', (evt) => {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', (evt) => {\r\n            if (errors.length) {\r\n                reject(errors);\r\n                return;\r\n            }\r\n            resolve(evt);\r\n        });\r\n        loader.addEventListener('error', (evt) => {\r\n            errors.push(evt.data);\r\n        });\r\n        const manifests = [];\r\n        const origin = lib.properties.manifest;\r\n        for (let i = 0; i < origin.length; i++) {\r\n            const o = origin[i];\r\n            const m = {\r\n                src: resolvePath(o.src, basepath),\r\n                id: o.id\r\n            };\r\n            for (let i in o) {\r\n                if (!m[i]) {\r\n                    m[i] = o[i];\r\n                }\r\n            }\r\n            if (options.crossOrigin) {\r\n                m.crossOrigin = true;\r\n            }\r\n            if (o.src.indexOf('data:') === 0) {\r\n                m.type = 'image';\r\n            }\r\n            manifests.push(m);\r\n        }\r\n        loader.loadManifest(manifests);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, loadAssetAsync, resolvePath, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { createjs, CreatejsMovieClip as _CreatejsMovieClip, ITickerData, TCreatejsObject } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\nexport class AnimateEvent extends createjs.Event {\r\n\tconstructor(type: string) {\r\n\t\tsuper(type);\r\n\t}\r\n};\r\n\r\nexport interface IReachLabelData {\r\n\t/**\r\n\t * Label name.\r\n\t */\r\n\tlabel: string;\r\n\t\r\n\t/**\r\n\t * Frame number of label.\r\n\t */\r\n\tposition: number;\r\n}\r\n\r\nexport class ReachLabelEvent extends AnimateEvent {\r\n\tdata: IReachLabelData;\r\n\t\r\n\tconstructor(type: string, label: IReachLabelData) {\r\n\t\tsuper(type);\r\n\t\t\r\n\t\tthis.data = label;\r\n\t}\r\n}\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\t/**\r\n\t * When the last frame of the timeline is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\tendAnimation?(e: AnimateEvent): void {}\r\n\t\r\n\t/**\r\n\t * When either labels is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\treachLabel?(e: ReachLabelEvent): void {}\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tconst currentFrame = this.currentFrame;\r\n\t\t\r\n\t\t// this.advance(e.delta * P);\r\n\t\tthis.advance(P);\r\n\t\t\r\n\t\tif (currentFrame !== this.currentFrame) {\r\n\t\t\tif (this.currentFrame === (this.totalFrames - 1)) {\r\n\t\t\t\tthis.dispatchEvent(new AnimateEvent('endAnimation'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < this.labels.length; i++) {\r\n\t\t\t\tconst label = this.labels[i];\r\n\t\t\t\tif (this.currentFrame === label.position) {\r\n\t\t\t\t\tthis.dispatchEvent(new ReachLabelEvent('reachLabel', label));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Replace child instance\r\n\t * \r\n\t * @param name Name of old instancee.\r\n\t * @param cls Class of new instance.\r\n\t */\r\n\treplaceInstance(name: string, cls: typeof CreatejsMovieClip) {\r\n\t\tconst old = this[name];\r\n\t\t\r\n\t\tif (!old) {\r\n\t\t\tconsole.warn(`instance '${name}' was not found.`);\r\n\t\t}\r\n\t\t\r\n\t\tconst props = ['x', 'y', 'scaleX', 'scaleY', 'rotation', 'skewX', 'skewY', 'regX', 'regY', '_off', 'alpha'];\r\n\t\t\r\n\t\tconst instance = this[name] = new cls(old.mode, old.startPosition, old.loop, old.timeline.reversed);\r\n\t\t\r\n\t\tconst tweens = this.timeline.tweens;\r\n\t\tfor (let i = 0; i < tweens.length; i++) {\r\n\t\t\tconst target = tweens[i].target;\r\n\t\t\t\r\n\t\t\tif (Array.isArray(target.state)) {\r\n\t\t\t\tfor (let j = 0; j < target.state.length; j++) {\r\n\t\t\t\t\tif (target.state[j].t === old) {\r\n\t\t\t\t\t\ttarget.state[j].t = instance;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (target === old) {\r\n\t\t\t\ttweens[i].target = instance;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < props.length; i++) {\r\n\t\t\tinstance[props[i]] = old[props[i]];\r\n\t\t}\r\n\t\t\r\n\t\tif (old.mask) {\r\n\t\t\tinstance.mask = old.mask;\r\n\t\t\told.mask = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (old.filters) {\r\n\t\t\tinstance.filters = old.filters;\r\n\t\t\told.filters = null;\r\n\t\t\t\r\n\t\t\tconst nominalBounds = instance.nominalBounds;\r\n\t\t\tinstance.cache(nominalBounds.x - 2, nominalBounds.y - 2, nominalBounds.width + 4, nominalBounds.height + 4);\r\n\t\t}\r\n\t\t\r\n\t\tthis.removeChild(old);\r\n\t\t\r\n\t\treturn instance;\r\n\t}\r\n}\r\n\r\ndelete(CreatejsMovieClip.prototype.endAnimation);\r\ndelete(CreatejsMovieClip.prototype.reachLabel);","import { Texture } from 'pixi.js';\r\nimport { CreatejsBitmap as _CreatejsBitmap } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsbitmap.html | CreatejsBitmap]]\r\n */\r\nexport class CreatejsBitmap extends _CreatejsBitmap {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { Texture } from 'pixi.js';\r\nimport { CreatejsSprite as _CreatejsSprite } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjssprite.html | CreatejsSprite]]\r\n */\r\nexport class CreatejsSprite extends _CreatejsSprite {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import * as PIXI from 'pixi.js';\r\nimport * as Pixim from '@tawaship/pixim.js';\r\nimport { loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport loadJS from './loadJS';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport type TAnimateLoaderRawResource = IAnimateLibrary;\r\n\r\nexport class AnimateLoaderResource extends Pixim.LoaderResource<TAnimateLoaderRawResource> {\r\n\tdestroy() {\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport interface IAnimateLoaderTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n\t\r\n\t/**\r\n\t * Javascript file path of Animate content.\r\n\t */\r\n\tfilepath?: string;\r\n};\r\n\r\nexport type TAnimateLoaderTarget = IAnimateLoaderTarget;\r\n\r\nexport interface IAnimateLoaderTargetDictionary extends Pixim.ILoaderTargetDictionary<TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderResourceDictionary extends Pixim.ILoaderResourceDictionary<TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderOption extends Pixim.ILoaderOption {\r\n\t\r\n}\r\n\r\nexport class AnimateLoader extends Pixim.LoaderBase<TAnimateLoaderTarget, TAnimateLoaderRawResource> {\r\n\tloadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\treturn this._loadAsync(target, options);\r\n\t}\r\n\t\r\n\tloadAllAsync(targets: IAnimateLoaderTargetDictionary, options: IAnimateLoaderOption = {}) {\r\n\t\tconst res: Pixim.ILoaderResourceDictionary<TAnimateLoaderRawResource>  = {};\r\n\t\t\r\n\t\tif (Object.keys(targets).length === 0) {\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}\r\n\t\t\r\n\t\tconst promises = [];\r\n\t\t\r\n\t\tfor (let i in targets) {\r\n\t\t\tpromises.push(\r\n\t\t\t\tthis.loadAsync(targets[i], options)\r\n\t\t\t\t\t.then(resource => {\r\n\t\t\t\t\t\tres[i] = resource;\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn Promise.all(promises)\r\n\t\t\t.then(() => {\r\n\t\t\t\treturn res;\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tprivate _loadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\tconst basepath = this._resolveBasepath(options.basepath);\r\n\t\tconst version = this._resolveVersion(options.version);\r\n\t\t\r\n\t\tconst p = !target.filepath\r\n\t\t\t? Promise.resolve()\r\n\t\t\t: (() => {\r\n\t\t\t\tconst filepath = Pixim.utils.resolvePath(target.filepath, target.basepath);\r\n\t\t\t\tconst url = this._resolveUrl(filepath, options);\r\n\t\t\t\t\r\n\t\t\t\treturn loadJS(url)\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tthrow `Animate: '${filepath}' cannot load.`;\r\n\t\t\t\t\t});\r\n\t\t\t})();\r\n\t\t\r\n\t\treturn p.then(() => {\r\n\t\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\t\tif (!comp) {\r\n\t\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\t\tconst origin = lib.properties.manifest;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < origin.length; i++) {\r\n\t\t\t\tconst o = origin[i];\r\n\t\t\t\tconst filepath = Pixim.utils.resolvePath(o.src, target.basepath);\r\n\t\t\t\to.src = this._resolveUrl(filepath, options);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn loadAssetAsync(comp, '', target.options);\r\n\t\t})\r\n\t\t.then(lib => {\r\n\t\t\tfor (let i  in lib) {\r\n\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn new AnimateLoaderResource(lib, null);\r\n\t\t})\r\n\t\t.catch((e: any) => {\r\n\t\t\treturn new AnimateLoaderResource({}, e);\r\n\t\t});\r\n\t}\r\n}","export default function loadJS(src: string): Promise<void> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst script = document.createElement('script');\r\n\t\tscript.src = src;\r\n\t\tscript.addEventListener('load', () => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\tresolve();\r\n\t\t});\r\n\t\tscript.addEventListener('error', (e: any) => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\treject(e);\r\n\t\t});\r\n\t\tdocument.body.appendChild(script);\r\n\t});\r\n}","import * as Pixim from '@tawaship/pixim.js';\r\nimport * as AnimateLoader from './AnimateLoader';\r\n\r\nexport interface IAnimateManifestTargetDictionary extends Pixim.IManifestTargetDictionary<AnimateLoader.TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateDictionary extends Pixim.IRawResourceDictionary<AnimateLoader.TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport class AnimateManifest extends Pixim.ManifestBase<AnimateLoader.TAnimateLoaderTarget, AnimateLoader.TAnimateLoaderRawResource> {\r\n\tprotected _loadAsync(targets: IAnimateManifestTargetDictionary, options: AnimateLoader.IAnimateLoaderOption = {}) {\r\n\t\tconst loader = new AnimateLoader.AnimateLoader(options);\r\n\t\t\r\n\t\treturn loader.loadAllAsync(targets);\r\n\t}\r\n}","import { Content as PiximContent } from '@tawaship/pixim.js';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { AnimateManifest, IAnimateManifestTargetDictionary } from './AnimateManifest';\r\nimport { createjs } from '@tawaship/pixi-animate-core';\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\nPiximContent.registerManifest('animates', AnimateManifest);\r\n\r\n/**\r\n * Define animate assets for class.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] class.\r\n */\r\nexport function defineAnimatesTo(Content: typeof PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tContent.defineTargets('animates', data, {});\r\n}\r\n\r\n/**\r\n * Define animate assets for instance.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] instance.\r\n */\r\nexport function addAnimatesTo(content: PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tcontent.addTargets('animates', data, {});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Sprite = CreatejsSprite;","import { Container as _Container, Task, ITickerData } from '@tawaship/pixim.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n\ttask: Task;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {},\r\n\t\t\ttask: new Task([], this)\r\n\t\t};\r\n\t\t\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\t\r\n\t\tthis._createjsData.task.add((e: ITickerData) => {\r\n\t\t\tfor (let i in targets) {\r\n\t\t\t\ttargets[i].updateForPixi(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis._createjsData.task.first();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateTask(e: ITickerData) {\r\n\t\tsuper.updateTask(e);\r\n\t\t\r\n\t\tconst task = this._createjsData.task;\r\n\t\t\r\n\t\tif (!this.taskEnabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttask.done(e);\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","updateForPixi","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","createjs","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","_isDown","EventManager","_events","pointerdown","pointerover","pointerout","pointermove","pointerup","pointerupoutside","_data","mousedown","types","factory","cb","_mousedownFactory","rollover","_rolloverFactory","rollout","_rolloutFactory","pressmove","console","log","_pressmoveFactory","pressup","_pressupFactory","add","type","data","func","t","push","origin","on","interactive","remove","j","off","splice","currentTarget","target","ev","rawX","global","x","rawY","y","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","masked","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","child","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","LINE_CAP","BUTT","ROUND","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","resolvePath","path","basepath","utils","url","resolve","MotionGuidePlugin","install","AnimateEvent","Event","ReachLabelEvent","label","framerate","_framerateBase","endAnimation","reachLabel","advance","totalFrames","labels","position","replaceInstance","name","cls","old","warn","mode","startPosition","loop","timeline","reversed","tweens","Array","isArray","state","nominalBounds","cache","_CreatejsMovieClip","replaceTexture","_CreatejsBitmap","_CreatejsSprite","AnimateLoaderResource","destroy","Pixim.LoaderResource","AnimateLoader","loadAsync","options","_loadAsync","loadAllAsync","targets","keys","Promise","promises","then","resource","all","src","filepath","_resolveBasepath","_resolveVersion","version","Pixim.utils","_resolveUrl","reject","script","document","createElement","body","appendChild","catch","comp","AdobeAn","getComposition","id","Error","getLibrary","properties","manifest","lib","loader","LoadQueue","installPlugin","Sound","errors","evt","images","getImages","item","result","handleFileLoad","manifests","crossOrigin","loadManifest","getSpriteSheet","queue","ssMetadata","SpriteSheet","getResult","frames","loadAssetAsync","fps","Pixim.LoaderBase","AnimateManifest","AnimateLoader.AnimateLoader","Pixim.ManifestBase","registerManifest","_createjsData","task","Task","first","updateTask","taskEnabled","done","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","content","addTargets","Content","defineTargets"],"mappings":"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"}