{"version":3,"file":"Pixim-animate-container.js","sources":["../node_modules/@tawaship/pixi-animate-container/dist/pixi-animate-container.esm.js","../src/createjs/modules/MovieClip.ts","../src/createjs/modules/Sprite.ts","../src/createjs/modules/Bitmap.ts","../src/AnimateBlobLoader.ts","../src/AnimateLoader.ts","../src/AnimateManifest.ts","../src/core.ts","../src/Container.ts","../src/index.ts"],"sourcesContent":["/*!\n * pixi-animate-container - v2.1.0\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nimport * as PIXI$1 from 'pixi.js';\nimport { utils, Container as Container$1, BaseTexture, Texture, Sprite, LINE_CAP, LINE_JOIN, Graphics, Text, filters } from 'pixi.js';\n\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper}\n */\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\n    constructor(...args) {\n        super(...args);\n        const createjs = args[0];\n        const pixi = createjs.pixi;\n        const baseFrame = args[1];\n        const overFrame = args[2];\n        const downFrame = args[3];\n        const hit = arguments[5];\n        const hitFrame = args[6];\n        hit.gotoAndStop(hitFrame);\n        const hitPixi = pixi.addChild(hit.pixi);\n        hitPixi.alpha = 0.00001;\n        let isOver = false;\n        let isDown = false;\n        hitPixi.on('pointerover', function () {\n            isOver = true;\n            if (isDown) {\n                createjs.gotoAndStop(downFrame);\n            }\n            else {\n                createjs.gotoAndStop(overFrame);\n            }\n        });\n        hitPixi.on('pointerout', function () {\n            isOver = false;\n            if (isDown) {\n                createjs.gotoAndStop(overFrame);\n            }\n            else {\n                createjs.gotoAndStop(baseFrame);\n            }\n        });\n        hitPixi.on('pointerdown', function () {\n            isDown = true;\n            createjs.gotoAndStop(downFrame);\n        });\n        hitPixi.on('pointerup', function () {\n            isDown = false;\n            if (isOver) {\n                createjs.gotoAndStop(overFrame);\n            }\n            else {\n                createjs.gotoAndStop(baseFrame);\n            }\n        });\n        hitPixi.on('pointerupoutside', function () {\n            isDown = false;\n            if (isOver) {\n                createjs.gotoAndStop(overFrame);\n            }\n            else {\n                createjs.gotoAndStop(baseFrame);\n            }\n        });\n        hitPixi.interactive = true;\n        hitPixi.cursor = 'pointer';\n    }\n}\n\nfunction createObject(proto) {\n    return Object.create(proto);\n}\n/**\n * @ignore\n */\nconst DEG_TO_RAD = Math.PI / 180;\n\nfunction createPixiData(pixi, regObj) {\n    return {\n        regObj,\n        instance: pixi,\n        reservedBlendMode: PIXI.BLEND_MODES.NORMAL\n    };\n}\nfunction createCreatejsParams() {\n    return {\n        x: 0,\n        y: 0,\n        scaleX: 0,\n        scaleY: 0,\n        regX: 0,\n        regY: 0,\n        skewX: 0,\n        skewY: 0,\n        rotation: 0,\n        visible: true,\n        alpha: 1,\n        _off: false,\n        mask: null\n    };\n}\nfunction updateDisplayObjectChildren(cjs, e) {\n    const list = cjs.children.slice();\n    for (let i = 0, l = list.length; i < l; i++) {\n        const child = list[i];\n        child.updateForPixi(e);\n    }\n    return true;\n}\n// export type TMixinedCreatejsDisplayObjectClass = abstract new (...args: any[]) => IMixinedCreatejsDisplayObject;\nfunction mixinCreatejsDisplayObject(superClass) {\n    class C extends superClass {\n        get pixi() {\n            return this._pixiData.instance;\n        }\n        get x() {\n            return this._createjsParams.x;\n        }\n        set x(value) {\n            this._pixiData.instance.x = value;\n            this._createjsParams.x = value;\n        }\n        get y() {\n            return this._createjsParams.y;\n        }\n        set y(value) {\n            this._pixiData.instance.y = value;\n            this._createjsParams.y = value;\n        }\n        get scaleX() {\n            return this._createjsParams.scaleX;\n        }\n        set scaleX(value) {\n            this._pixiData.instance.scale.x = value;\n            this._createjsParams.scaleX = value;\n        }\n        get scaleY() {\n            return this._createjsParams.scaleY;\n        }\n        set scaleY(value) {\n            this._pixiData.instance.scale.y = value;\n            this._createjsParams.scaleY = value;\n        }\n        get skewX() {\n            return this._createjsParams.skewX;\n        }\n        set skewX(value) {\n            this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\n            this._createjsParams.skewX = value;\n        }\n        get skewY() {\n            return this._createjsParams.skewY;\n        }\n        set skewY(value) {\n            this._pixiData.instance.skew.y = value * DEG_TO_RAD;\n            this._createjsParams.skewY = value;\n        }\n        get regX() {\n            return this._createjsParams.regX;\n        }\n        set regX(value) {\n            this._pixiData.regObj.x = value;\n            this._createjsParams.regX = value;\n        }\n        get regY() {\n            return this._createjsParams.regY;\n        }\n        set regY(value) {\n            this._pixiData.regObj.y = value;\n            this._createjsParams.regY = value;\n        }\n        get rotation() {\n            return this._createjsParams.rotation;\n        }\n        set rotation(value) {\n            this._pixiData.instance.rotation = value * DEG_TO_RAD;\n            this._createjsParams.rotation = value;\n        }\n        get visible() {\n            return this._createjsParams.visible;\n        }\n        set visible(value) {\n            value = !!value;\n            this._pixiData.instance.visible = value;\n            this._createjsParams.visible = value;\n        }\n        get alpha() {\n            return this._createjsParams.alpha;\n        }\n        set alpha(value) {\n            this._pixiData.instance.alpha = value;\n            this._createjsParams.alpha = value;\n        }\n        get _off() {\n            return this._createjsParams._off;\n        }\n        set _off(value) {\n            this._pixiData.instance.renderable = !value;\n            this._createjsParams._off = value;\n        }\n        addEventListener(type, cb, ...args) {\n            const p = super.addEventListener(type, cb, ...args);\n            if (!(cb instanceof CreatejsButtonHelper)) {\n                this._createjsEventManager.add(type, cb);\n            }\n            return p;\n        }\n        removeEventListener(type, cb, ...args) {\n            const p = super.removeEventListener(type, cb, ...args);\n            if (!(cb instanceof CreatejsButtonHelper)) {\n                this._createjsEventManager.remove(type, cb);\n            }\n            return p;\n        }\n        removeAllEventListeners(type, ...args) {\n            const p = super.removeAllEventListeners(type, ...args);\n            this._createjsEventManager.removeAll(type);\n            return p;\n        }\n        get mask() {\n            return this._createjsParams.mask;\n        }\n        set mask(value) {\n            if (value) {\n                value.masked.push(this._pixiData.instance);\n                this._pixiData.instance.mask = value.pixi;\n                this._pixiData.instance.once('added', () => {\n                    this._pixiData.instance.parent.addChild(value.pixi);\n                });\n            }\n            else {\n                this._pixiData.instance.mask = null;\n            }\n            this._createjsParams.mask = value;\n        }\n    }\n    return C;\n}\n\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage}\n */\nclass CreatejsStage extends createjs.Stage {\n    updateForPixi(props) {\n        if (this.tickOnUpdate) {\n            this.tick(props);\n        }\n        this.dispatchEvent(\"drawstart\");\n        updateDisplayObjectChildren(this, props);\n        this.dispatchEvent(\"drawend\");\n        return true;\n    }\n    updateBlendModeForPixi(mode) {\n    }\n}\n\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL}\n */\nclass CreatejsStageGL extends createjs.StageGL {\n    updateForPixi(props) {\n        if (this.tickOnUpdate) {\n            this.tick(props);\n        }\n        this.dispatchEvent(\"drawstart\");\n        updateDisplayObjectChildren(this, props);\n        this.dispatchEvent(\"drawend\");\n        return true;\n    }\n    updateBlendModeForPixi(mode) {\n    }\n}\n\nvar createjsInteractionEvents;\n(function (createjsInteractionEvents) {\n    createjsInteractionEvents[\"mousedown\"] = \"mousedown\";\n    createjsInteractionEvents[\"pressmove\"] = \"pressmove\";\n    createjsInteractionEvents[\"pressup\"] = \"pressup\";\n    createjsInteractionEvents[\"rollover\"] = \"rollover\";\n    createjsInteractionEvents[\"rollout\"] = \"rollout\";\n    createjsInteractionEvents[\"click\"] = \"click\";\n})(createjsInteractionEvents || (createjsInteractionEvents = {}));\nclass CreatejsEventManager {\n    constructor(cjs) {\n        this._downTarget = null;\n        this._cjs = cjs;\n        this._emitter = new utils.EventEmitter();\n        const pixi = cjs.pixi;\n        pixi\n            .on('pointerdown', this._onPointerDown, this)\n            .on('pointermove', this._onPointerMove, this)\n            .on('pointerup', this._onPointerUp, this)\n            .on('pointerupoutside', this._onPointerUpOutside, this)\n            .on('pointertap', this._onPointerTap, this)\n            .on('pointerover', this._onPointerOver, this)\n            .on('pointerout', this._onPointerOut, this);\n    }\n    _onPointerDown(e) {\n        const ev = {\n            type: createjsInteractionEvents.mousedown,\n            currentTarget: e.currentTarget.createjs,\n            target: e.target.createjs,\n            rawX: e.data.global.x,\n            rawY: e.data.global.y,\n        };\n        this._downTarget = e.target.createjs;\n        this._emitter.emit('mousedown', ev);\n    }\n    _onPointerMove(e) {\n        if (!this._downTarget) {\n            return;\n        }\n        const ev = {\n            type: createjsInteractionEvents.pressmove,\n            currentTarget: e.currentTarget.createjs,\n            target: this._downTarget,\n            rawX: e.data.global.x,\n            rawY: e.data.global.y,\n        };\n        this._emitter.emit('pressmove', ev);\n    }\n    _onPointerUp(e) {\n        const ev = {\n            type: createjsInteractionEvents.pressup,\n            currentTarget: e.currentTarget.createjs,\n            target: this._downTarget,\n            rawX: e.data.global.x,\n            rawY: e.data.global.y,\n        };\n        this._downTarget = null;\n        this._emitter.emit('pressup', ev);\n    }\n    _onPointerUpOutside(e) {\n        const ev = {\n            type: createjsInteractionEvents.pressup,\n            currentTarget: e.currentTarget.createjs,\n            target: this._downTarget,\n            rawX: e.data.global.x,\n            rawY: e.data.global.y,\n        };\n        this._downTarget = null;\n        this._emitter.emit('pressup', ev);\n    }\n    _onPointerTap(e) {\n        const ev = {\n            type: createjsInteractionEvents.click,\n            currentTarget: e.currentTarget.createjs,\n            target: e.target.createjs,\n            rawX: e.data.global.x,\n            rawY: e.data.global.y,\n        };\n        this._emitter.emit('click', ev);\n    }\n    _onPointerOver(e) {\n        const ev = {\n            type: createjsInteractionEvents.rollover,\n            currentTarget: e.currentTarget.createjs,\n            target: e.currentTarget.createjs,\n            rawX: e.data.global.x,\n            rawY: e.data.global.y,\n        };\n        this._emitter.emit('rollover', ev);\n    }\n    _onPointerOut(e) {\n        const ev = {\n            type: createjsInteractionEvents.rollout,\n            currentTarget: e.currentTarget.createjs,\n            target: e.currentTarget.createjs,\n            rawX: e.data.global.x,\n            rawY: e.data.global.y,\n        };\n        this._emitter.emit('rollout', ev);\n    }\n    add(type, cb) {\n        if (!(type in createjsInteractionEvents)) {\n            return;\n        }\n        this._emitter.on(type, cb);\n        if (this._emitter.eventNames().length > 0) {\n            this._cjs.pixi.interactive = true;\n        }\n    }\n    remove(type, cb) {\n        if (!(type in createjsInteractionEvents)) {\n            return;\n        }\n        this._emitter.off(type, cb);\n        if (this._emitter.eventNames().length === 0) {\n            this._cjs.pixi.interactive = false;\n        }\n    }\n    removeAll(type) {\n        if (type && !(type in createjsInteractionEvents)) {\n            return;\n        }\n        this._emitter.removeAllListeners(type);\n        if (this._emitter.eventNames().length === 0) {\n            this._cjs.pixi.interactive = false;\n        }\n    }\n}\n\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container}\n */\nclass PixiMovieClip extends Container$1 {\n    constructor(cjs) {\n        super();\n        this._filterContainer = null;\n        this._createjs = cjs;\n    }\n    get filterContainer() {\n        return this._filterContainer;\n    }\n    set filterContainer(value) {\n        this._filterContainer = value;\n    }\n    get createjs() {\n        return this._createjs;\n    }\n}\n/**\n * @ignore\n */\nfunction createCreatejsMovieClipParams() {\n    return Object.assign(createCreatejsParams(), {\n        filters: null,\n        compositeOperation: null\n    });\n}\n/**\n * @ignore\n */\nfunction createPixiMovieClipData(cjs) {\n    const pixi = new PixiMovieClip(cjs);\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\n        subInstance: pixi\n    });\n}\nclass AnimateEvent extends createjs.Event {\n    constructor(type) {\n        super(type);\n    }\n}\nclass AnimateReachLabelEvent extends AnimateEvent {\n    constructor(type, label) {\n        super(type);\n        this.data = label;\n    }\n}\n/**\n * @ignore\n */\nconst P$6 = createjs.MovieClip;\n/**\n * @ignore\n */\nvar CompositeOpeations;\n(function (CompositeOpeations) {\n    CompositeOpeations[\"Lighter\"] = \"lighter\";\n    CompositeOpeations[\"Multiply\"] = \"multiply\";\n    CompositeOpeations[\"Screen\"] = \"screen\";\n})(CompositeOpeations || (CompositeOpeations = {}));\n/**\n * @ignore\n */\nconst blendModes = {\n    [CompositeOpeations.Lighter]: PIXI.BLEND_MODES.ADD,\n    [CompositeOpeations.Multiply]: PIXI.BLEND_MODES.MULTIPLY,\n    [CompositeOpeations.Screen]: PIXI.BLEND_MODES.SCREEN,\n};\n/**\n * @ignore\n */\nconst T = 1000 / 60;\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip}\n */\nclass CreatejsMovieClip extends mixinCreatejsDisplayObject(createjs.MovieClip) {\n    /**\n     * When the last frame of the timeline is reached.\n     *\n     * @event\n     */\n    endAnimation(e) { }\n    /**\n     * When either labels is reached.\n     *\n     * @event\n     */\n    reachLabel(e) { }\n    constructor(...args) {\n        super();\n        this._pixiData = createPixiMovieClipData(this);\n        this._createjsParams = createCreatejsMovieClipParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        P$6.apply(this, args);\n        this.framerate = this._framerateBase;\n    }\n    initialize(...args) {\n        this._pixiData = createPixiMovieClipData(this);\n        this._createjsParams = createCreatejsMovieClipParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        super.initialize(...args);\n        this.framerate = this._framerateBase;\n    }\n    updateForPixi(e) {\n        const currentFrame = this.currentFrame;\n        // challenge\n        if (!this.paused) {\n            this.advance(T * e.delta);\n            if (this._listenFrameEvents && currentFrame !== this.currentFrame) {\n                if (this._listenFrameEvents.endAnimation && this.currentFrame === (this.totalFrames - 1)) {\n                    this.dispatchEvent(new AnimateEvent('endAnimation'));\n                }\n                if (this._listenFrameEvents.reachLabel) {\n                    for (let i = 0; i < this.labels.length; i++) {\n                        const label = this.labels[i];\n                        if (this.currentFrame === label.position) {\n                            this.dispatchEvent(new AnimateReachLabelEvent('reachLabel', label));\n                            break;\n                        }\n                    }\n                }\n            }\n            this._updateState();\n        }\n        return updateDisplayObjectChildren(this, e);\n    }\n    updateBlendModeForPixi(mode) {\n        if (this._createjsParams.compositeOperation && blendModes[this._createjsParams.compositeOperation] === mode)\n            return;\n        this._pixiData.reservedBlendMode = mode;\n        for (let i = 0; i < this.children.length; i++) {\n            this.children[i].updateBlendModeForPixi(mode);\n        }\n    }\n    get compositeOperation() {\n        return this._createjsParams.compositeOperation;\n    }\n    set compositeOperation(value) {\n        if (this._createjsParams.compositeOperation === value)\n            return;\n        const blendMode = (value && blendModes[value]) || this._pixiData.reservedBlendMode;\n        this.updateBlendModeForPixi(blendMode);\n        this._createjsParams.compositeOperation = value;\n    }\n    get filters() {\n        return this._createjsParams.filters;\n    }\n    //*\n    set filters(value) {\n        const list = [];\n        if (value && value.length > 0) {\n            for (var i = 0; i < value.length; i++) {\n                let f = value[i];\n                if (!(f instanceof createjs.ColorFilter)) {\n                    continue;\n                }\n                list.push(f.pixi);\n            }\n        }\n        this._pixiData.instance.filters = list;\n        this._createjsParams.filters = value;\n    }\n    //*/\n    /*\n    set filters(value: TCreatejsColorFilters) {\n        if (value) {\n            const list = [];\n            \n            for (var i = 0; i < value.length; i++) {\n                const f = value[i];\n                \n                if (f instanceof createjs.ColorMatrixFilter) {\n                    continue;\n                }\n                \n                const m = new filters.ColorMatrixFilter();\n                m.matrix = [\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\n                    0, 0, 0, 0, 1\n                ];\n                list.push(m);\n            }\n\n            for (var i = 0; i < value.length; i++) {\n                let f = value[i];\n                \n                if (!(f instanceof createjs.ColorFilter)) {\n                    continue;\n                }\n                \n                list.push(f.pixi);\n            }\n\n            var o = this._pixiData.instance;\n            var c = o.children;\n            var n = new Container();\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\n            \n            while (c.length) {\n                nc.addChild(c[0]);\n            }\n            \n            o.addChild(n);\n            o.filterContainer = nc;\n            \n            nc.updateTransform();\n            nc.calculateBounds();\n            \n            const b = nc.getLocalBounds();\n            const x = b.x;\n            const y = b.y;\n            \n            for (var i = 0; i < nc.children.length; i++) {\n                const child = nc.children[i];\n                \n                child.x -= x;\n                child.y -= y;\n                \n                if (child instanceof PixiMovieClip) {\n                    const fc = child.filterContainer;\n                    if (fc) {\n                        //fc.cacheAsBitmap = false;\n                    }\n                }\n            }\n            n.x = x;\n            n.y = y;\n            \n            nc.filters = list;\n            //nc.cacheAsBitmap = true;\n        } else {\n            const o = this._pixiData.instance;\n            \n            if (o.filterContainer) {\n                const nc = this._pixiData.subInstance;\n                const n = nc.parent;\n                const c = nc.children;\n                \n                o.removeChildren();\n                o.filterContainer = null;\n                while (c.length) {\n                    const v = o.addChild(c[0]);\n                    v.x += n.x;\n                    v.y += n.y;\n                }\n                \n                nc.filters = [];\n                //nc.cacheAsBitmap = false;\n                \n                this._pixiData.subInstance = o;\n            }\n        }\n        \n        this._createjsParams.filters = value;\n    }\n    //*/\n    _updateChildrenBlendModeForPixi(child) {\n        const blendMode = (this._createjsParams.compositeOperation && blendModes[this._createjsParams.compositeOperation]) || this._pixiData.reservedBlendMode;\n        if (!blendMode)\n            return;\n        child.updateBlendModeForPixi(blendMode);\n    }\n    addChild(child) {\n        this._pixiData.subInstance.addChild(child.pixi);\n        this._updateChildrenBlendModeForPixi(child);\n        return super.addChild(child);\n    }\n    addChildAt(child, index) {\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\n        this._updateChildrenBlendModeForPixi(child);\n        return super.addChildAt(child, index);\n    }\n    removeChild(child) {\n        this._pixiData.subInstance.removeChild(child.pixi);\n        return super.removeChild(child);\n    }\n    removeChildAt(index) {\n        this._pixiData.subInstance.removeChildAt(index);\n        return super.removeChildAt(index);\n    }\n    removeAllChldren() {\n        this._pixiData.subInstance.removeChildren();\n        return super.removeAllChldren();\n    }\n}\ndelete (CreatejsMovieClip.prototype.endAnimation);\ndelete (CreatejsMovieClip.prototype.reachLabel);\n// temporary prototype\nObject.defineProperties(CreatejsMovieClip.prototype, {\n    _createjsParams: {\n        value: createCreatejsMovieClipParams(),\n        writable: true\n    },\n    _pixiData: {\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\n        writable: true\n    }\n});\n\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite}\n */\nclass PixiSprite extends Sprite {\n    constructor(cjs) {\n        super();\n        this._createjs = cjs;\n    }\n    get createjs() {\n        return this._createjs;\n    }\n}\n/**\n * @ignore\n */\nfunction createCreatejsSpriteParams() {\n    return createCreatejsParams();\n}\n/**\n * @ignore\n */\nfunction createPixiSpriteData(cjs) {\n    const pixi = new PixiSprite(cjs);\n    return createPixiData(pixi, pixi.anchor);\n}\n/**\n * @ignore\n */\nconst P$5 = createjs.Sprite;\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite}\n */\nclass CreatejsSprite extends mixinCreatejsDisplayObject(createjs.Sprite) {\n    constructor(...args) {\n        super(...args);\n        this._pixiData = createPixiSpriteData(this);\n        this._createjsParams = createCreatejsSpriteParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        P$5.apply(this, args);\n    }\n    initialize(...args) {\n        this._pixiData = createPixiSpriteData(this);\n        this._createjsParams = createCreatejsSpriteParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        return super.initialize(...args);\n    }\n    updateForPixi(e) {\n        return true;\n    }\n    updateBlendModeForPixi(mode) {\n        this._pixiData.instance.blendMode = mode;\n    }\n    gotoAndStop(...args) {\n        super.gotoAndStop(...args);\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\n        const baseTexture = BaseTexture.from(frame.image);\n        const texture = new Texture(baseTexture, frame.rect);\n        this._pixiData.instance.texture = texture;\n    }\n}\n// temporary prototype\nObject.defineProperties(CreatejsSprite.prototype, {\n    _createjsParams: {\n        value: createCreatejsSpriteParams(),\n        writable: true\n    },\n    _pixiData: {\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\n        writable: true\n    }\n});\n\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container}\n */\nclass PixiShape extends Container$1 {\n    constructor(cjs) {\n        super();\n        this._createjs = cjs;\n    }\n    get createjs() {\n        return this._createjs;\n    }\n}\n/**\n * @ignore\n */\nfunction createCreatejsShapeParams(graphics) {\n    return Object.assign(createCreatejsParams(), {\n        graphics\n    });\n}\n/**\n * @ignore\n */\nfunction createPixiShapeData(cjs) {\n    const pixi = new PixiShape(cjs);\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\n        masked: []\n    });\n}\n/**\n * @ignore\n */\nconst P$4 = createjs.Shape;\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape}\n */\nclass CreatejsShape extends mixinCreatejsDisplayObject(createjs.Shape) {\n    constructor(...args) {\n        super(...args);\n        this._pixiData = createPixiShapeData(this);\n        this._createjsParams = createCreatejsShapeParams(null);\n        this._createjsEventManager = new CreatejsEventManager(this);\n        P$4.apply(this, args);\n    }\n    initialize(...args) {\n        this._pixiData = createPixiShapeData(this);\n        this._createjsParams = createCreatejsShapeParams(null);\n        this._createjsEventManager = new CreatejsEventManager(this);\n        return super.initialize(...args);\n    }\n    updateForPixi(e) {\n        return true;\n    }\n    updateBlendModeForPixi(mode) {\n        var _a;\n        this._pixiData.reservedBlendMode = mode;\n        (_a = this._createjsParams.graphics) === null || _a === void 0 ? void 0 : _a.updateBlendModeForPixi(mode);\n    }\n    get graphics() {\n        return this._createjsParams.graphics;\n    }\n    set graphics(value) {\n        if (this._pixiData.masked.length) {\n            this._pixiData.instance.removeChildren();\n            if (value) {\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\n                }\n            }\n            else {\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\n                    this._pixiData.masked[i].mask = null;\n                }\n            }\n        }\n        if (value) {\n            this._pixiData.instance.addChild(value.pixi);\n        }\n        this._createjsParams.graphics = value;\n    }\n    get masked() {\n        return this._pixiData.masked;\n    }\n}\n// temporary prototype\nObject.defineProperties(CreatejsShape.prototype, {\n    _createjsParams: {\n        value: createCreatejsShapeParams(null),\n        writable: true\n    },\n    _pixiData: {\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\n        writable: true\n    }\n});\n\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite}\n */\nclass PixiBitmap extends Sprite {\n    constructor(cjs) {\n        super();\n        this._createjs = cjs;\n    }\n    get createjs() {\n        return this._createjs;\n    }\n}\n/**\n * @ignore\n */\nfunction createCreatejsBitmapParams() {\n    return createCreatejsParams();\n}\n/**\n * @ignore\n */\nfunction createPixiBitmapData(cjs) {\n    const pixi = new PixiBitmap(cjs);\n    return createPixiData(pixi, pixi.anchor);\n}\n/**\n * @ignore\n */\nconst P$3 = createjs.Bitmap;\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap}\n */\nclass CreatejsBitmap extends mixinCreatejsDisplayObject(createjs.Bitmap) {\n    constructor(...args) {\n        super(...args);\n        this._pixiData = createPixiBitmapData(this);\n        this._createjsParams = createCreatejsBitmapParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        P$3.apply(this, args);\n    }\n    initialize(...args) {\n        this._pixiData = createPixiBitmapData(this);\n        this._createjsParams = createCreatejsBitmapParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        const res = super.initialize(...args);\n        const texture = Texture.from(this.image);\n        this._pixiData.instance.texture = texture;\n        return res;\n    }\n    updateForPixi(e) {\n        return true;\n    }\n    updateBlendModeForPixi(mode) {\n        this._pixiData.instance.blendMode = mode;\n    }\n}\n// temporary prototype\nObject.defineProperties(CreatejsBitmap.prototype, {\n    _createjsParams: {\n        value: createCreatejsBitmapParams(),\n        writable: true\n    },\n    _pixiData: {\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\n        writable: true\n    }\n});\n\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics}\n */\nclass PixiGraphics extends Graphics {\n    constructor(cjs) {\n        super();\n        this._createjs = cjs;\n    }\n    get createjs() {\n        return this._createjs;\n    }\n}\n/**\n * @ignore\n */\nfunction createCreatejsGraphicsParams() {\n    return createCreatejsParams();\n}\n/**\n * @ignore\n */\nfunction createPixiGraphicsData(cjs) {\n    const pixi = new PixiGraphics(cjs);\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\n        strokeFill: 0,\n        strokeAlpha: 1\n    });\n}\n/**\n * @ignore\n */\nconst COLOR_RED = 16 * 16 * 16 * 16;\n/**\n * @ignore\n */\nconst COLOR_GREEN = 16 * 16;\n/**\n * @ignore\n */\nconst LineCap = {\n    0: LINE_CAP.BUTT,\n    1: LINE_CAP.ROUND,\n    2: LINE_CAP.SQUARE\n};\n/**\n * @ignore\n */\nconst LineJoin = {\n    0: LINE_JOIN.MITER,\n    1: LINE_JOIN.ROUND,\n    2: LINE_JOIN.BEVEL\n};\n/**\n * @ignore\n */\nconst P$2 = createjs.Graphics;\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics}\n */\nclass CreatejsGraphics extends mixinCreatejsDisplayObject(createjs.Graphics) {\n    constructor(...args) {\n        super(...args);\n        this._pixiData = createPixiGraphicsData(this);\n        this._createjsParams = createCreatejsGraphicsParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        P$2.apply(this, args);\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\n        this._pixiData.strokeFill = 0;\n        this._pixiData.strokeAlpha = 1;\n    }\n    initialize(...args) {\n        this._pixiData = createPixiGraphicsData(this);\n        this._createjsParams = createCreatejsGraphicsParams();\n        this._createjsEventManager = new CreatejsEventManager(this);\n        return super.initialize(...args);\n    }\n    updateForPixi(e) {\n        return true;\n    }\n    updateBlendModeForPixi(mode) {\n        if (!mode)\n            return;\n        this._pixiData.instance.blendMode = mode;\n    }\n    // path methods\n    moveTo(x, y) {\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\n            this._pixiData.instance.beginHole();\n        }\n        else {\n            this._pixiData.instance.endHole();\n        }\n        this._pixiData.instance.moveTo(x, y);\n        return super.moveTo(x, y);\n    }\n    mt(x, y) {\n        return this.moveTo(x, y);\n    }\n    lineTo(x, y) {\n        this._pixiData.instance.lineTo(x, y);\n        return super.lineTo(x, y);\n    }\n    lt(x, y) {\n        return this.lineTo(x, y);\n    }\n    arcTo(x1, y1, x2, y2, radius) {\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\n        return super.arcTo(x1, y1, x2, y2, radius);\n    }\n    at(x1, y1, x2, y2, radius) {\n        return this.arcTo(x1, y1, x2, y2, radius);\n    }\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\n    }\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\n    }\n    quadraticCurveTo(cpx, cpy, x, y) {\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\n        return super.quadraticCurveTo(cpx, cpy, x, y);\n    }\n    qt(cpx, cpy, x, y) {\n        return this.quadraticCurveTo(cpx, cpy, x, y);\n    }\n    curveTo(cpx, cpy, x, y) {\n        return this.quadraticCurveTo(cpx, cpy, x, y);\n    }\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    }\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    }\n    rect(x, y, w, h) {\n        this._pixiData.instance.drawRect(x, y, w, h);\n        return super.rect(x, y, w, h);\n    }\n    r(x, y, w, h) {\n        return this.rect(x, y, w, h);\n    }\n    drawRect(x, y, w, h) {\n        return this.rect(x, y, w, h);\n    }\n    dr(x, y, w, h) {\n        return this.rect(x, y, w, h);\n    }\n    closePath() {\n        this._pixiData.instance.closePath();\n        return super.closePath();\n    }\n    cp() {\n        return this.closePath();\n    }\n    clear() {\n        this._pixiData.instance.clear();\n        return super.clear();\n    }\n    c() {\n        return this.clear();\n    }\n    _parseColor(color) {\n        const res = {\n            color: 0,\n            alpha: 1\n        };\n        if (!color) {\n            res.alpha = 0;\n            return res;\n        }\n        if (color.charAt(0) === '#') {\n            res.color = parseInt(color.slice(1), 16);\n            return res;\n        }\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\n        res.alpha = Number(colors[3]);\n        return res;\n    }\n    beginFill(color) {\n        const c = this._parseColor(color);\n        this._pixiData.instance.beginFill(c.color, c.alpha);\n        return super.beginFill(color);\n    }\n    f(color) {\n        return this.beginFill(color);\n    }\n    endFill() {\n        this._pixiData.instance.endFill();\n        return super.endFill();\n    }\n    ef() {\n        return this.endFill();\n    }\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\n        this._pixiData.instance.lineTextureStyle({\n            width: thickness,\n            color: this._pixiData.strokeFill,\n            alpha: this._pixiData.strokeAlpha,\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\n            miterLimit\n        });\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\n    }\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\n    }\n    beginStroke(color) {\n        const c = this._parseColor(color);\n        this._pixiData.strokeFill = c.color;\n        this._pixiData.strokeAlpha = c.alpha;\n        return super.beginStroke(color);\n    }\n    s(color) {\n        return this.beginStroke(color);\n    }\n    drawRoundRect(x, y, w, h, radius) {\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\n        return super.drawRoundRect(x, y, w, h, radius);\n    }\n    rr(x, y, w, h, radius) {\n        return this.drawRoundRect(x, y, w, h, radius);\n    }\n    drawCircle(x, y, radius) {\n        this._pixiData.instance.drawCircle(x, y, radius);\n        return super.drawCircle(x, y, radius);\n    }\n    dc(x, y, radius) {\n        return this.drawCircle(x, y, radius);\n    }\n    drawEllipse(x, y, w, h) {\n        this._pixiData.instance.drawEllipse(x, y, w, h);\n        return super.drawEllipse(x, y, w, h);\n    }\n    de(x, y, w, h) {\n        return this.drawEllipse(x, y, w, h);\n    }\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\n    }\n    dp(x, y, radius, sides, pointSize, angle) {\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\n    }\n}\n// temporary prototype\nObject.defineProperties(CreatejsGraphics.prototype, {\n    _createjsParams: {\n        value: createCreatejsGraphicsParams(),\n        writable: true\n    },\n    _pixiData: {\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\n        writable: true\n    }\n});\n\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text}\n */\nclass PixiText extends Text {\n}\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container}\n */\nclass PixiTextContainer extends Container$1 {\n    constructor(cjs, text) {\n        super();\n        this._createjs = cjs;\n        this._text = text;\n    }\n    get createjs() {\n        return this._createjs;\n    }\n    get text() {\n        return this._text;\n    }\n}\n/**\n * @ignore\n */\nconst DEF_ALIGN = 'left';\n/**\n * @ignore\n */\nfunction createCreatejsTextParams(text, font, color) {\n    return Object.assign(createCreatejsParams(), {\n        text: text,\n        font: font,\n        color: color,\n        textAlign: DEF_ALIGN,\n        lineHeight: 0,\n        lineWidth: 0\n    });\n}\n/**\n * @ignore\n */\nfunction createPixiTextData(cjs, text) {\n    const pixi = new PixiTextContainer(cjs, text);\n    return createPixiData(pixi, pixi.pivot);\n}\n/**\n * @ignore\n */\nconst P$1 = createjs.Text;\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text}\n */\nclass CreatejsText extends mixinCreatejsDisplayObject(createjs.Text) {\n    constructor(text, font, color = '#000000', ...args) {\n        super(text, font, color, ...args);\n        this._createjsParams = createCreatejsTextParams(text, font, color);\n        const _font = this._parseFont(font);\n        const t = new PixiText(text, {\n            fontWeight: _font.fontWeight,\n            fontSize: _font.fontSize,\n            fontFamily: _font.fontFamily,\n            fill: this._parseColor(color),\n            wordWrap: true\n        });\n        this._pixiData = createPixiTextData(this, t);\n        this._pixiData.instance.addChild(t);\n        this._createjsEventManager = new CreatejsEventManager(this);\n        P$1.call(this, text, font, color, ...args);\n    }\n    updateForPixi(e) {\n        return true;\n    }\n    updateBlendModeForPixi(mode) {\n        this._pixiData.instance.text.blendMode = mode;\n    }\n    get text() {\n        return this._createjsParams.text;\n    }\n    set text(text) {\n        this._pixiData.instance.text.text = text;\n        this._align(this.textAlign);\n        this._createjsParams.text = text;\n    }\n    _parseFont(font) {\n        const p = font.split(' ');\n        let w = 'normal';\n        let s = p.shift() || '';\n        if (s.indexOf('px') === -1) {\n            w = s;\n            s = p.shift() || '';\n        }\n        return {\n            fontWeight: w,\n            fontSize: Number((s || '0px').replace('px', '')),\n            fontFamily: p.join(' ').replace(/'/g, '') //'\n        };\n    }\n    get font() {\n        return this._createjsParams.font;\n    }\n    set font(font) {\n        const _font = this._parseFont(font);\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\n        this._createjsParams.font = font;\n    }\n    _parseColor(color) {\n        return parseInt(color.slice(1), 16);\n    }\n    get color() {\n        return this._createjsParams.color;\n    }\n    set color(color) {\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\n        this._createjsParams.color = color;\n    }\n    _align(align) {\n        if (align === 'left') {\n            this._pixiData.instance.text.x = 0;\n            return;\n        }\n        if (align === 'center') {\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\n            return;\n        }\n        if (align === 'right') {\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\n            return;\n        }\n    }\n    get textAlign() {\n        return this._createjsParams.textAlign;\n    }\n    set textAlign(align) {\n        this._pixiData.instance.text.style.align = align;\n        this._align(align);\n        this._createjsParams.textAlign = align;\n    }\n    get lineHeight() {\n        return this._createjsParams.lineHeight;\n    }\n    set lineHeight(height) {\n        this._pixiData.instance.text.style.lineHeight = height;\n        this._createjsParams.lineHeight = height;\n    }\n    get lineWidth() {\n        return this._createjsParams.lineWidth;\n    }\n    set lineWidth(width) {\n        this._pixiData.instance.text.style.wordWrapWidth = width;\n        this._align(this.textAlign);\n        this._createjsParams.lineWidth = width;\n    }\n}\n// temporary prototype\nObject.defineProperties(CreatejsText.prototype, {\n    _createjsParams: {\n        value: createCreatejsTextParams('', '', ''),\n        writable: true\n    },\n    _pixiData: {\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\n        writable: true\n    }\n});\n\n/**\n * inherited {@link http://pixijs.download/release/docs/PIXI.ColorMatrixFilter.html | PIXI.Sprite}\n */\nclass PixiColorMatrixFilter extends filters.ColorMatrixFilter {\n    constructor(cjs) {\n        super();\n        this._createjs = cjs;\n    }\n    get createjs() {\n        return this._createjs;\n    }\n}\n/**\n * @ignore\n */\nfunction createPixiColorMatrixFilterData(cjs) {\n    const pixi = new PixiColorMatrixFilter(cjs);\n    return { instance: pixi };\n}\n/**\n * @ignore\n */\nfunction createCreatejsColorFilterParams() {\n    return Object.assign(createCreatejsParams(), {\n        redMultiplier: 1,\n        greenMultiplier: 1,\n        blueMultiplier: 1,\n        alphaMultiplier: 1,\n        redOffset: 0,\n        greenOffset: 0,\n        blueOffset: 0,\n        alphaOffset: 0\n    });\n}\n/**\n * @ignore\n */\nconst P = createjs.ColorFilter;\n/**\n * inherited {@link https://createjs.com/docs/easeljs/classes/ColorFilter.html | createjs.ColorFilter}\n */\nclass CreatejsColorFilter extends createjs.ColorFilter {\n    constructor(...args) {\n        super(args);\n        const pixiData = this._pixiData = createPixiColorMatrixFilterData(this);\n        const createjsParams = this._createjsParams = createCreatejsColorFilterParams();\n        // ColorFilterのtweenは、列挙可能かつ hasOwnPropery なプロパティにアクセスしてしまうので、enumerableを切っておく\n        Object.defineProperties(this, {\n            _pixiData: {\n                enumerable: false,\n                value: pixiData\n            },\n            _createjsParams: {\n                enumerable: false,\n                value: createjsParams\n            },\n            redMultiplier: {\n                get() {\n                    return this._createjsParams.redMultiplier;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[0] = value, this._createjsParams.redMultiplier = value;\n                }\n            },\n            greenMultiplier: {\n                get() {\n                    return this._createjsParams.greenMultiplier;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[6] = value, this._createjsParams.greenMultiplier = value;\n                }\n            },\n            blueMultiplier: {\n                get() {\n                    return this._createjsParams.blueMultiplier;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[12] = value, this._createjsParams.blueMultiplier = value;\n                }\n            },\n            alphaMultiplier: {\n                get() {\n                    return this._createjsParams.alphaMultiplier;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[18] = value, this._createjsParams.alphaMultiplier = value;\n                },\n            },\n            redOffset: {\n                get() {\n                    return this._createjsParams.redOffset;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[4] = value / 255, this._createjsParams.redOffset = value;\n                }\n            },\n            greenOffset: {\n                get() {\n                    return this._createjsParams.greenOffset;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[9] = value / 255, this._createjsParams.greenOffset = value;\n                }\n            },\n            blueOffset: {\n                get() {\n                    return this._createjsParams.blueOffset;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[14] = value / 255, this._createjsParams.blueOffset = value;\n                }\n            },\n            alphaOffset: {\n                get() {\n                    return this._createjsParams.alphaOffset;\n                },\n                set(value) {\n                    this._pixiData.instance.matrix[19] = value / 255, this._createjsParams.alphaOffset = value;\n                }\n            }\n        });\n        P.apply(this, args);\n    }\n    get pixi() {\n        return this._pixiData.instance;\n    }\n}\n// temporary prototype\nObject.defineProperties(CreatejsColorFilter.prototype, {\n    _createjsParams: {\n        value: createCreatejsColorFilterParams(),\n        writable: true\n    },\n    _pixiData: {\n        value: createPixiColorMatrixFilterData(createObject(CreatejsColorFilter.prototype)),\n        writable: true\n    }\n});\n\nfunction playSound(id, loop, offset) {\n    return createjs.Sound.play(id, {\n        interrupt: createjs.Sound.INTERRUPT_EARLY,\n        loop,\n        offset\n    });\n}\n/*\nexport function dataURLToBlobURL(dataURL: string) {\n    const bin = atob(dataURL.replace(/^.*,/, ''));\n    const buffer = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; i++) {\n        buffer[i] = bin.charCodeAt(i);\n    }\n\n    const p = dataURL.slice(5);\n    try{\n        const blob = new Blob([buffer.buffer], {\n            type: p.slice(0, p.indexOf(\";\"))\n        });\n        return (URL || webkitURL).createObjectURL(blob);\n    } catch (e){\n        throw e;\n    };\n}\n*/\n/**\n * Load the assets of createjs content published by Adobe Animate.\n * If you use multiple contents, each composition ID must be unique.\n * Please run \"Pixim.animate.init\" before running.\n */\nfunction loadAssetAsync(targets) {\n    var _a, _b;\n    if (!Array.isArray(targets)) {\n        targets = [targets];\n    }\n    const promises = [];\n    for (let i = 0; i < targets.length; i++) {\n        const target = targets[i];\n        if ((_a = target.options) === null || _a === void 0 ? void 0 : _a.useSound) {\n            window.playSound = playSound;\n        }\n        const comp = AdobeAn.getComposition(target.id);\n        if (!comp) {\n            throw new Error(`no composition: ${target.id}`);\n        }\n        const lib = comp.getLibrary();\n        const manifests = lib.properties.manifest.map((v) => {\n            return JSON.parse(JSON.stringify(v));\n        });\n        const crossOrigin = typeof ((_b = target.options) === null || _b === void 0 ? void 0 : _b.crossOrigin) === 'boolean' ? target.options.crossOrigin : true;\n        for (let i = 0; i < manifests.length; i++) {\n            const manifest = manifests[i];\n            if (manifest.src.indexOf('data:image') === 0) {\n                manifest.type = createjs.Types.IMAGE;\n            }\n            else if (manifest.src.indexOf('data:audio') === 0) {\n                /* note\n                    It seems that data URL format sounds are not supported by the createjs loader.\n                    Converting to blob URL also didn't work.\n                */\n                throw new Error(\"data URL formatted sound is not supported.\");\n                /*\n                manifest.type = createjs.Types.SOUND;\n                manifest.src = dataURLToBlobURL(manifest.src);\n                */\n            }\n            else if (manifest.src.indexOf('blob:') === 0) ;\n            else if (manifest.src.indexOf('file:') === 0) ;\n            else {\n                manifest.src = PIXI$1.utils.url.resolve(target.basepath, manifest.src);\n            }\n        }\n        if (crossOrigin) {\n            for (let i = 0; i < manifests.length; i++) {\n                manifests[i].crossOrigin = true;\n            }\n        }\n        const loadPromise = new Promise((resolve, reject) => {\n            var _a;\n            if (manifests.length === 0) {\n                resolve({});\n            }\n            const loader = new createjs.LoadQueue(false);\n            if ((_a = target.options) === null || _a === void 0 ? void 0 : _a.useSound) {\n                loader.installPlugin(createjs.Sound);\n            }\n            const errors = [];\n            loader.addEventListener('fileload', (evt) => {\n                handleFileLoad(evt, comp);\n            });\n            loader.addEventListener('complete', (evt) => {\n                if (errors.length) {\n                    reject(errors);\n                    return;\n                }\n                resolve(evt);\n            });\n            loader.addEventListener('error', (evt) => {\n                errors.push(evt.data);\n            });\n            loader.loadManifest(manifests || []);\n        })\n            .then((evt) => {\n            const ss = comp.getSpriteSheet();\n            const queue = evt.target;\n            const ssMetadata = lib.ssMetadata;\n            for (let i = 0; i < ssMetadata.length; i++) {\n                ss[ssMetadata[i].name] = new createjs.SpriteSheet({\n                    images: [\n                        queue.getResult(ssMetadata[i].name)\n                    ],\n                    frames: ssMetadata[i].frames\n                });\n            }\n            return lib;\n        });\n        promises.push(loadPromise\n            .then((lib) => {\n            var _a;\n            for (let i in lib) {\n                if (lib[i].prototype instanceof CreatejsMovieClip) {\n                    lib[i].prototype._framerateBase = lib.properties.fps;\n                    lib[i].prototype._listenFrameEvents = (_a = target.options) === null || _a === void 0 ? void 0 : _a.listenFrameEvents;\n                }\n            }\n            return lib;\n        }));\n    }\n    return Promise.all(promises)\n        .then((resolvers) => {\n        if (resolvers.length === 1) {\n            return resolvers[0];\n        }\n        return resolvers;\n    });\n}\n/**\n * @ignore\n */\nfunction handleFileLoad(evt, comp) {\n    const images = comp.getImages();\n    if (evt && (evt.item.type == 'image')) {\n        images[evt.item.id] = evt.result;\n    }\n}\n\nclass CreatejsController {\n    constructor(container) {\n        this._createjsData = {\n            id: 0,\n            targets: {},\n            container\n        };\n    }\n    handleTick(delta) {\n        // delta timeが1以上になるとフレーム飛びするので\n        const e = { delta: Math.min(delta, 1) };\n        const targets = this._createjsData.targets;\n        for (let i in targets) {\n            targets[i].updateForPixi(e);\n        }\n    }\n    _addCreatejs(cjs) {\n        if (cjs instanceof CreatejsMovieClip) {\n            const p = cjs.pixi.parent;\n            cjs.pixi.once('added', () => {\n                if (cjs.pixi.parent !== p) {\n                    cjs.gotoAndPlay(0);\n                }\n                const id = this._createjsData.id++;\n                this._createjsData.targets[id] = cjs;\n                cjs.pixi.once('removed', () => {\n                    delete (this._createjsData.targets[id]);\n                });\n            });\n        }\n    }\n    addCreatejs(cjs) {\n        this._addCreatejs(cjs);\n        this._createjsData.container.addChild(cjs.pixi);\n        return cjs;\n    }\n    addCreatejsAt(cjs, index) {\n        this._addCreatejs(cjs);\n        this._createjsData.container.addChildAt(cjs.pixi, index);\n        return cjs;\n    }\n    removeCreatejs(cjs) {\n        this._createjsData.container.removeChild(cjs.pixi);\n        return cjs;\n    }\n}\n/**\n * inherited {@link https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container}\n */\nclass Container extends Container$1 {\n    constructor() {\n        super();\n        this._createjsData = {\n            controller: new CreatejsController(this)\n        };\n    }\n    handleTick(delta) {\n        return this._createjsData.controller.handleTick(delta);\n    }\n    addCreatejs(cjs) {\n        return this._createjsData.controller.addCreatejs(cjs);\n    }\n    addCreatejsAt(cjs, index) {\n        return this._createjsData.controller.addCreatejsAt(cjs, index);\n    }\n    removeCreatejs(cjs) {\n        return this._createjsData.controller.removeCreatejs(cjs);\n    }\n}\n\n// overrides\ncreatejs.Stage = CreatejsStage;\ncreatejs.StageGL = CreatejsStageGL;\ncreatejs.MovieClip = CreatejsMovieClip;\ncreatejs.Sprite = CreatejsSprite;\ncreatejs.Shape = CreatejsShape;\ncreatejs.Bitmap = CreatejsBitmap;\ncreatejs.Graphics = CreatejsGraphics;\ncreatejs.Text = CreatejsText;\ncreatejs.ButtonHelper = CreatejsButtonHelper;\ncreatejs.ColorFilter = CreatejsColorFilter;\n// install plugins\ncreatejs.MotionGuidePlugin.install();\n\nexport { AnimateEvent, AnimateReachLabelEvent, Container, CreatejsBitmap, CreatejsButtonHelper, CreatejsColorFilter, CreatejsController, CreatejsEventManager, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiColorMatrixFilter, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, createjsInteractionEvents, loadAssetAsync, mixinCreatejsDisplayObject, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-container.esm.js.map\n","import { CreatejsMovieClip as _CreatejsMovieClip } from '@tawaship/pixi-animate-container';\r\n\r\n/**\r\n * inherited {@link https://tawaship.github.io/pixi-animate-container/docs/classes/CreatejsMovieClip.html | CreatejsMovieClip}\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\t/**\r\n\t * Replace child instance\r\n\t * \r\n\t * @param name Name of old instancee.\r\n\t * @param cls Class of new instance.\r\n\t */\r\n\treplaceInstance(name: string, cls: typeof CreatejsMovieClip) {\r\n\t\tconst old = this[name];\r\n\t\t\r\n\t\tif (!old) {\r\n\t\t\tconsole.warn(`instance '${name}' was not found.`);\r\n\t\t}\r\n\t\t\r\n\t\tconst props = ['x', 'y', 'scaleX', 'scaleY', 'rotation', 'skewX', 'skewY', 'regX', 'regY', '_off', 'alpha'];\r\n\t\t\r\n\t\tconst instance = this[name] = new cls(old.mode, old.startPosition, old.loop, old.timeline.reversed);\r\n\t\t\r\n\t\tconst tweens = this.timeline.tweens;\r\n\t\tfor (let i = 0; i < tweens.length; i++) {\r\n\t\t\tconst target = tweens[i].target;\r\n\t\t\t\r\n\t\t\tif (Array.isArray(target.state)) {\r\n\t\t\t\tfor (let j = 0; j < target.state.length; j++) {\r\n\t\t\t\t\tif (target.state[j].t === old) {\r\n\t\t\t\t\t\ttarget.state[j].t = instance;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (target === old) {\r\n\t\t\t\ttweens[i].target = instance;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < props.length; i++) {\r\n\t\t\tinstance[props[i]] = old[props[i]];\r\n\t\t}\r\n\t\t\r\n\t\tif (old.mask) {\r\n\t\t\tinstance.mask = old.mask;\r\n\t\t\told.mask = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (old.filters) {\r\n\t\t\tinstance.filters = old.filters;\r\n\t\t\told.filters = null;\r\n\t\t\t\r\n\t\t\tconst nominalBounds = instance.nominalBounds;\r\n\t\t\tinstance.cache(nominalBounds.x - 2, nominalBounds.y - 2, nominalBounds.width + 4, nominalBounds.height + 4);\r\n\t\t}\r\n\t\t\r\n\t\tthis.removeChild(old);\r\n\t\t\r\n\t\treturn instance;\r\n\t}\r\n}\r\n","import { Texture } from 'pixi.js';\r\nimport { CreatejsSprite as _CreatejsSprite } from '@tawaship/pixi-animate-container';\r\n\r\n/**\r\n * inherited {@link https://tawaship.github.io/pixi-animate-container/docs/classes/CreatejsSprite.html | CreatejsSprite}\r\n */\r\nexport class CreatejsSprite extends _CreatejsSprite {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { Texture } from 'pixi.js';\r\nimport { CreatejsBitmap as _CreatejsBitmap } from '@tawaship/pixi-animate-container';\r\n\r\n/**\r\n * inherited {@link https://tawaship.github.io/pixi-animate-container/docs/classes/CreatejsBitmap.html | CreatejsBitmap}\r\n */\r\nexport class CreatejsBitmap extends _CreatejsBitmap {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { ILoaderOption, LoaderBase, LoaderResource } from \"@tawaship/pixim.js\";\r\n\r\nexport type TAnimateBlobLoaderRawResource = { src: string; type: string; } | null;\r\n\r\nexport class AnimateBlobLoaderResource extends LoaderResource<TAnimateBlobLoaderRawResource> {\r\n\tdestroy() {\r\n\t\tif (this._data) {\r\n\t\t\t(window.URL || window.webkitURL).revokeObjectURL(this._data.src);\r\n\t\t}\r\n\t\t\r\n\t\tthis._data = null;\r\n\t}\r\n}\r\n\r\nexport type TAnimateBlobLoaderTarget = string;\r\n\r\nexport interface IAnimateBlobLoaderOption extends ILoaderOption {\r\n\r\n}\r\n\r\nexport class AnimateBlobLoader extends LoaderBase<TAnimateBlobLoaderTarget, TAnimateBlobLoaderRawResource, AnimateBlobLoaderResource> {\r\n\tprotected _loadAsync(target: TAnimateBlobLoaderTarget, options: IAnimateBlobLoaderOption = {}) {\r\n\t\treturn (() => {\r\n\t\t\tconst data = this._resolveParams(target, options);\r\n\t\t\tconst src = data.src;\r\n\t\t\tconst xhr = data.xhr;\r\n\t\t\t\r\n\t\t\tif (!xhr) {\r\n\t\t\t\treturn fetch(src);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn fetch(src, xhr.requestOptions || {});\r\n\t\t})()\r\n\t\t.then(res => {\r\n\t\t\tif (!res.ok) {\r\n\t\t\t\tthrow res.statusText;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn res.blob();\r\n\t\t})\r\n\t\t.then(blob => {\r\n\t\t\treturn { src: (window.URL || window.webkitURL).createObjectURL(blob), type: blob.type };\r\n\t\t})\r\n\t\t.then(data => new AnimateBlobLoaderResource(data, null))\r\n\t\t.catch((e: any) => new AnimateBlobLoaderResource(null, e));\r\n\t}\r\n}","import { loadAssetAsync, IAnimateLibrary, IAnimateLoadAssetOption, IAnimateManifest, IAnimatePrepareTarget } from '@tawaship/pixi-animate-container';\r\nimport { AnimateBlobLoader, TAnimateBlobLoaderTarget } from './AnimateBlobLoader';\r\nimport { ILoaderOption, JsLoader, LoaderBase, LoaderResource, utils } from '@tawaship/pixim.js';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport type TAnimateLoaderRawResource = IAnimateLibrary;\r\n\r\nexport class AnimateLoaderResource extends LoaderResource<TAnimateLoaderRawResource> {\r\n\tdestroy() {\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport interface IAnimateLoaderTarget extends IAnimatePrepareTarget {\r\n\t/**\r\n\t * Javascript file path of Animate content.\r\n\t */\r\n\tfilepath?: string;\r\n\r\n\toptions?: IAnimateLoadAssetOption & {\r\n\t\t/**\r\n\t\t * Additional processing handlers for lib.properties.manifest.\r\n\t\t * \r\n\t\t * Changes made by this process are temporary and will only be reflected in the current load process.\r\n\t\t */\r\n\t\thandleManifest?: (manifests: IAnimateManifest[]) => Promise<void>;\r\n\t};\r\n};\r\n\r\nexport type TAnimateLoaderTarget = IAnimateLoaderTarget;\r\n\r\nexport interface IAnimateLoaderOption extends ILoaderOption, IAnimateLoadAssetOption {\r\n\t/**\r\n\t * Animate javascript file version.\r\n\t */\r\n\tfileVersion?: string | number;\r\n\t\r\n\t/**\r\n\t * Animate assets version.\r\n\t */\r\n\tassetVersion?: string | number;\r\n}\r\n\r\nexport class AnimateLoader extends LoaderBase<TAnimateLoaderTarget, TAnimateLoaderRawResource, AnimateLoaderResource> {\r\n\tprotected _loadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\treturn this._loadJsAsync(target, options)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\t\t\tif (!comp) {\r\n\t\t\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\t\t\tconst originalManifests: IAnimateManifest[] = lib.properties.manifest;\r\n\t\t\t\tconst manifests = lib.properties.manifest = originalManifests.map<IAnimateManifest>((v: any) => {\r\n\t\t\t\t\treturn JSON.parse(JSON.stringify(v));\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn (target.options?.handleManifest ? target.options.handleManifest(manifests) : Promise.resolve())\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconst _target = Object.assign({}, target);\r\n\t\t\t\t\t\t_target.basepath = utils.resolvePath(options.basepath || \"\", target.basepath);\r\n\r\n\t\t\t\t\t\treturn this._prepareAssetsAsync(_target.basepath || \"\", manifests, options)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tconst version = options.assetVersion || options.version || '';\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\t\t\t\t\t\t\tconst manifest = manifests[i];\r\n\t\t\t\t\t\t\t\t\tmanifest.src = utils.resolveUri(\"\", manifest.src, version);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn loadAssetAsync(_target);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then((_lib: IAnimateLibrary) => {\r\n\t\t\t\t\t\t\t\tlib.properties.manifest = originalManifests;\r\n\t\t\t\t\t\t\t\treturn _lib;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.then(lib => {\r\n\t\t\t\treturn new AnimateLoaderResource(lib, null);\r\n\t\t\t})\r\n\t\t\t.catch(e => new AnimateLoaderResource({}, e));\r\n\t}\r\n\t\r\n\tprivate _loadJsAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption) {\r\n\t\tif (!target.filepath) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t\t\r\n\t\tconst filepath = utils.resolveUri(target.basepath, target.filepath);\r\n\t\t\r\n\t\tconst loader = new JsLoader();\r\n\t\t\r\n\t\treturn loader.loadAsync(filepath, Object.assign({}, options, { version: options.fileVersion || options.version }))\r\n\t\t\t.then(resource => {\r\n\t\t\t\tif (resource.error) {\r\n\t\t\t\t\tthrow resource.error;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tresource.ref();\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tprivate _prepareAssetsAsync(basepath: string, manifests: IAnimateManifest[], options: IAnimateLoaderOption) {\r\n\t\tconst targets: Record<string, TAnimateBlobLoaderTarget> = {};\r\n\t\t\r\n\t\tif (!options.xhr)  {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\tconst manifest = manifests[i];\r\n\t\t\t\r\n\t\t\tif (!utils.isUrl(manifest.src)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttargets[i] = utils.resolveUri(basepath, manifest.src);\r\n\t\t}\r\n\t\t\r\n\t\tif (Object.keys(targets).length === 0) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t\t\r\n\t\tconst loader = new AnimateBlobLoader();\r\n\t\t\r\n\t\treturn loader.loadAllAsync(targets, Object.assign({}, options, { version: options.assetVersion || options.version }))\r\n\t\t\t.then(resources => {\r\n\t\t\t\tfor (let i in resources) {\r\n\t\t\t\t\tconst resource = resources[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (resource.error) {\r\n\t\t\t\t\t\tthrow resource.error;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!resource.data) {\r\n\t\t\t\t\t\tthrow 'invalid resource';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst _i = Number(i);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!manifests[_i]) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tmanifests[_i].src = resource.data.src;\r\n\t\t\t\t\tmanifests[_i].type = resource.data.type.split(\"/\")[0];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}","import { ManifestBase } from '@tawaship/pixim.js';\r\nimport { AnimateLoader, AnimateLoaderResource, TAnimateLoaderRawResource, TAnimateLoaderTarget } from './AnimateLoader';\r\n\r\nexport class AnimateManifest extends ManifestBase<TAnimateLoaderTarget, TAnimateLoaderRawResource, AnimateLoaderResource> {\r\n\tprotected _createLoader() {\r\n\t\treturn new AnimateLoader();\r\n\t}\r\n}","import { IManifestOption, Content as PiximContent } from '@tawaship/pixim.js';\r\nimport { AnimateManifest } from './AnimateManifest';\r\nimport { TAnimateLoaderTarget } from './AnimateLoader';\r\n\r\nPiximContent.registerManifest('animates', AnimateManifest);\r\n\r\n/**\r\n * Define animate assets for class.\r\n * \r\n * @param Content Target {@link https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content} class.\r\n */\r\nexport function defineAnimatesTo(Content: typeof PiximContent, data: Record<string, TAnimateLoaderTarget>, options: IManifestOption = {}) {\r\n\tContent.defineTargets('animates', data, {});\r\n}\r\n\r\n/**\r\n * Define animate assets for instance.\r\n * \r\n * @param content Target {@link https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content} instance.\r\n */\r\nexport function addAnimatesTo(content: PiximContent, data: Record<string, TAnimateLoaderTarget>, options: IManifestOption = {}) {\r\n\tcontent.addTargets('animates', data, {});\r\n}","import { Container as PiximContainer, Task, ITickerData } from '@tawaship/pixim.js';\r\nimport { Container as _PixiAnimateContainer, CreatejsController, IAnimateContainer, TCreatejsObject } from '@tawaship/pixi-animate-container';\r\n\r\n/**\r\n * inherited {@link https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container}\r\n */\r\nexport class Container extends PiximContainer implements IAnimateContainer {\r\n\tprivate _createjsData: {\r\n\t\tcontroller: CreatejsController;\r\n\t\ttask: Task;\r\n\t};\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tcontroller: new CreatejsController(this),\r\n\t\t\ttask: new Task([], this),\r\n\t\t};\r\n\r\n\t\tthis._createjsData.task.add((e: ITickerData) => {\r\n\t\t\tthis.handleTick(e.delta);\r\n\t\t});\r\n\t\tthis._createjsData.task.first();\r\n\t}\r\n\r\n\tupdateTask(e: ITickerData) {\r\n\t\tsuper.updateTask(e);\r\n\t\t\r\n\t\tconst task = this._createjsData.task;\r\n\t\t\r\n\t\tif (!this.taskEnabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttask.done(e);\r\n\t}\r\n\r\n\thandleTick(delta: number) {\r\n\t\treturn this._createjsData.controller.handleTick(delta);\r\n\t}\r\n\t\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\treturn this._createjsData.controller.addCreatejs(cjs);\r\n\t}\r\n\t\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\treturn this._createjsData.controller.addCreatejsAt(cjs, index);\r\n\t}\r\n\t\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\treturn this._createjsData.controller.removeCreatejs(cjs);\r\n\t}\r\n}","import * as PA from \"./createjs/modules\";\r\nimport createjs from \"@tawaship/createjs-module\";\r\nimport * as core from \"@tawaship/pixi-animate-container\";\r\n\r\n// overrides\r\ncreatejs.MovieClip = PA.CreatejsMovieClip;\r\ncreatejs.Bitmap = PA.CreatejsBitmap;\r\ncreatejs.Sprite = PA.CreatejsSprite;\r\n\r\nexport * from \"./core\";\r\nexport * from \"./createjs\";\r\nexport * from \"./Container\";\r\nexport * from \"./AnimateManifest\";\r\nexport * from \"./AnimateLoader\";\r\nexport * from \"./AnimateBlobLoader\";\r\nexport { core };"],"names":["CreatejsButtonHelper","superclass","super","apply","this","args","const","createjs","pixi","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","on","interactive","cursor","ButtonHelper","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","createPixiData","regObj","instance","reservedBlendMode","PIXI","BLEND_MODES","NORMAL","createCreatejsParams","x","y","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","updateDisplayObjectChildren","cjs","e","list","children","slice","i","l","length","updateForPixi","mixinCreatejsDisplayObject","superClass","C","prototypeAccessors","_pixiData","_createjsParams","set","value","scale","skew","renderable","prototype","addEventListener","type","cb","p","concat","_createjsEventManager","add","removeEventListener","remove","removeAllEventListeners","removeAll","masked","push","once","parent","createjsInteractionEvents","CreatejsStage","props","tickOnUpdate","tick","dispatchEvent","updateBlendModeForPixi","mode","Stage","CreatejsStageGL","StageGL","CreatejsEventManager","_downTarget","_cjs","_emitter","utils","EventEmitter","_onPointerDown","_onPointerMove","_onPointerUp","_onPointerUpOutside","_onPointerTap","_onPointerOver","_onPointerOut","ev","mousedown","currentTarget","target","rawX","data","global","rawY","emit","pressmove","pressup","click","rollover","rollout","eventNames","off","removeAllListeners","PixiMovieClip","Container$1","_filterContainer","_createjs","filterContainer","configurable","createCreatejsMovieClipParams","assign","filters","compositeOperation","createPixiMovieClipData","pivot","subInstance","CompositeOpeations","AnimateEvent","call","Event","AnimateReachLabelEvent","label","P$6","MovieClip","blendModes","Lighter","ADD","Multiply","MULTIPLY","Screen","SCREEN","T","CreatejsMovieClip","framerate","_framerateBase","prototypeAccessors$1","endAnimation","reachLabel","initialize","currentFrame","paused","advance","delta","_listenFrameEvents","totalFrames","labels","position","_updateState","blendMode","f","ColorFilter","_updateChildrenBlendModeForPixi","child","addChildAt","index","removeChild","removeChildAt","removeAllChldren","removeChildren","defineProperties","writable","PixiSprite","Sprite","prototypeAccessors$2","createPixiSpriteData","anchor","P$5","CreatejsSprite","constructor","frame","spriteSheet","getFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$3","createCreatejsShapeParams","graphics","createPixiShapeData","P$4","Shape","CreatejsShape","prototypeAccessors$4","_a","PixiBitmap","prototypeAccessors$5","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","PixiGraphics","Graphics","prototypeAccessors$6","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","LINE_CAP","BUTT","ROUND","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$2","CreatejsGraphics","beginFill","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","c","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$7","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$1","CreatejsText","_font","_parseFont","t","fontWeight","fontSize","fontFamily","fill","wordWrap","prototypeAccessors$8","_align","shift","indexOf","style","align","height","wordWrapWidth","PixiColorMatrixFilter","prototypeAccessors$9","ColorMatrixFilter","createPixiColorMatrixFilterData","createCreatejsColorFilterParams","redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset","P","CreatejsColorFilter","pixiData","createjsParams","enumerable","get","matrix","prototypeAccessors$10","playSound","id","loop","offset","Sound","play","interrupt","INTERRUPT_EARLY","loadAssetAsync","targets","_b","Array","isArray","promises","options","useSound","window","comp","AdobeAn","getComposition","Error","lib","getLibrary","manifests","properties","manifest","map","v","JSON","parse","stringify","crossOrigin","src","Types","IMAGE","PIXI$1","url","resolve","basepath","loadPromise","Promise","reject","loader","LoadQueue","installPlugin","errors","evt","images","getImages","item","result","handleFileLoad","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","fps","listenFrameEvents","all","resolvers","CreatejsController","container","_createjsData","handleTick","min","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","Container","controller","MotionGuidePlugin","install","_CreatejsMovieClip","replaceInstance","cls","old","console","warn","startPosition","timeline","reversed","tweens","state","j","nominalBounds","cache","_CreatejsSprite","replaceTexture","_CreatejsBitmap","AnimateBlobLoaderResource","LoaderResource","destroy","_data","URL","webkitURL","revokeObjectURL","AnimateBlobLoader","LoaderBase","_loadAsync","xhr","_resolveParams","fetch","requestOptions","ok","statusText","blob","createObjectURL","catch","AnimateLoaderResource","AnimateLoader","_loadJsAsync","originalManifests","handleManifest","_target","resolvePath","_prepareAssetsAsync","version","assetVersion","resolveUri","_lib","filepath","JsLoader","loadAsync","fileVersion","resource","error","ref","isUrl","keys","loadAllAsync","resources","_i","AnimateManifest","ManifestBase","_createLoader","PiximContent","registerManifest","PiximContainer","task","Task","first","updateTask","taskEnabled","done","PA.CreatejsMovieClip","PA.CreatejsBitmap","PA.CreatejsSprite","content","addTargets","Content","defineTargets"],"mappings":"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","x_google_ignoreList":[0]}