{"version":3,"file":"Pixim-animate-container.min.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/Bitmap.ts","../src/Sprite.ts","../src/ContentAnimateManifest.ts","../src/loadJS.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.0.4-a\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nexport { default as createjs } from '@tawaship/createjs-module';\nimport { Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        if (!child.isVisible()) {\r\n            continue;\r\n        }\r\n        //child.draw();\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\n/**\r\n * @ignore\r\n */\r\nlet _isDown = false;\r\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._events = {\r\n            pointerdown: [],\r\n            pointerover: [],\r\n            pointerout: [],\r\n            pointermove: [],\r\n            pointerup: [],\r\n            pointerupoutside: []\r\n        };\r\n        this._data = {\r\n            mousedown: {\r\n                types: ['pointerdown'],\r\n                factory: (cb) => {\r\n                    return this._mousedownFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollover: {\r\n                types: ['pointerover'],\r\n                factory: (cb) => {\r\n                    return this._rolloverFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollout: {\r\n                types: ['pointerout'],\r\n                factory: (cb) => {\r\n                    return this._rolloutFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressmove: {\r\n                types: ['pointermove'],\r\n                factory: (cb) => {\r\n                    console.log(cb);\r\n                    return this._pressmoveFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressup: {\r\n                types: ['pointerup', 'pointerupoutside'],\r\n                factory: (cb) => {\r\n                    return this._pressupFactory(cjs, cb);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    add(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        const func = data.factory(cb);\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            this._events[t].push({ func, origin: cb });\r\n            pixi.on(t, func);\r\n        }\r\n        pixi.interactive = true;\r\n    }\r\n    remove(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            const list = this._events[t];\r\n            if (list) {\r\n                for (var j = list.length - 1; j >= 0; j--) {\r\n                    if (list[j].origin === cb) {\r\n                        pixi.off(t, list[j].func);\r\n                        list.splice(j, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                if (list.length === 0) {\r\n                    this._events[t] = [];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _mousedownFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            _isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloverFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            //_isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloutFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            //_isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressmoveFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!_isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressupFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!_isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            _isDown = false;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param comp Composition obtained from `AdobeAn.getComposition`.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(comp, basepath, options = {}) {\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false, basepath);\r\n        loader.installPlugin(createjs.Sound);\r\n        const errors = [];\r\n        loader.addEventListener('fileload', (evt) => {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', (evt) => {\r\n            if (errors.length) {\r\n                reject(errors);\r\n                return;\r\n            }\r\n            resolve(evt);\r\n        });\r\n        loader.addEventListener('error', (evt) => {\r\n            errors.push(evt.data);\r\n        });\r\n        if (options.crossOrigin) {\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].crossOrigin = true;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, loadAssetAsync, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { createjs, CreatejsMovieClip as _CreatejsMovieClip, ITickerData, TCreatejsObject } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\nexport class AnimateEvent extends createjs.Event {\r\n\tconstructor(type: string) {\r\n\t\tsuper(type);\r\n\t}\r\n};\r\n\r\nexport interface IReachLabelData {\r\n\t/**\r\n\t * Label name.\r\n\t */\r\n\tlabel: string;\r\n\t\r\n\t/**\r\n\t * Frame number of label.\r\n\t */\r\n\tposition: number;\r\n}\r\n\r\nexport class ReachLabelEvent extends AnimateEvent {\r\n\tdata: IReachLabelData;\r\n\t\r\n\tconstructor(type: string, label: IReachLabelData) {\r\n\t\tsuper(type);\r\n\t\t\r\n\t\tthis.data = label;\r\n\t}\r\n}\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\t/**\r\n\t * When the last frame of the timeline is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\tendAnimation?(e: AnimateEvent): void {}\r\n\t\r\n\t/**\r\n\t * When either labels is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\treachLabel?(e: ReachLabelEvent): void {}\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tconst currentFrame = this.currentFrame;\r\n\t\t\r\n\t\t// this.advance(e.delta * P);\r\n\t\tthis.advance(P);\r\n\t\t\r\n\t\tif (currentFrame !== this.currentFrame) {\r\n\t\t\tif (this.currentFrame === (this.totalFrames - 1)) {\r\n\t\t\t\tthis.dispatchEvent(new AnimateEvent('endAnimation'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < this.labels.length; i++) {\r\n\t\t\t\tconst label = this.labels[i];\r\n\t\t\t\tif (this.currentFrame === label.position) {\r\n\t\t\t\t\tthis.dispatchEvent(new ReachLabelEvent('reachLabel', label));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Replace child instance\r\n\t * \r\n\t * @param name Name of old instancee.\r\n\t * @param cls Class of new instance.\r\n\t */\r\n\treplaceInstance(name: string, cls: typeof CreatejsMovieClip) {\r\n\t\tconst old = this[name];\r\n\t\t\r\n\t\tif (!old) {\r\n\t\t\tconsole.warn(`instance '${name}' was not found.`);\r\n\t\t}\r\n\t\t\r\n\t\tconst props = ['x', 'y', 'scaleX', 'scaleY', 'rotation', 'skewX', 'skewY', 'regX', 'regY', '_off', 'alpha'];\r\n\t\t\r\n\t\tconst instance = this[name] = new cls(old.mode, old.startPosition, old.loop, old.timeline.reversed);\r\n\t\t\r\n\t\tconst tweens = this.timeline.tweens;\r\n\t\tfor (let i = 0; i < tweens.length; i++) {\r\n\t\t\tconst target = tweens[i].target;\r\n\t\t\t\r\n\t\t\tif (Array.isArray(target.state)) {\r\n\t\t\t\tfor (let j = 0; j < target.state.length; j++) {\r\n\t\t\t\t\tconsole.log(target)\r\n\t\t\t\t\tif (target.state[j].t === old) {\r\n\t\t\t\t\t\ttarget.state[j].t = instance;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (target === old) {\r\n\t\t\t\ttweens[i].target = instance;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < props.length; i++) {\r\n\t\t\tinstance[props[i]] = old[props[i]];\r\n\t\t}\r\n\t\t\r\n\t\tif (old.mask) {\r\n\t\t\tinstance.mask = old.mask;\r\n\t\t\told.mask = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (old.filters) {\r\n\t\t\tinstance.filters = old.filters;\r\n\t\t\told.filters = null;\r\n\t\t\t\r\n\t\t\tconst nominalBounds = instance.nominalBounds;\r\n\t\t\tinstance.cache(nominalBounds.x - 2, nominalBounds.y - 2, nominalBounds.width + 4, nominalBounds.height + 4);\r\n\t\t}\r\n\t\t\r\n\t\tthis.removeChild(old);\r\n\t\t\r\n\t\treturn instance;\r\n\t}\r\n}\r\n\r\ndelete(CreatejsMovieClip.prototype.endAnimation);\r\ndelete(CreatejsMovieClip.prototype.reachLabel);","import { Texture } from 'pixi.js';\r\nimport { CreatejsBitmap as _CreatejsBitmap } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsbitmap.html | CreatejsBitmap]]\r\n */\r\nexport class CreatejsBitmap extends _CreatejsBitmap {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { Texture } from 'pixi.js';\r\nimport { CreatejsSprite as _CreatejsSprite } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjssprite.html | CreatejsSprite]]\r\n */\r\nexport class CreatejsSprite extends _CreatejsSprite {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { ContentManifestBase, ILoadedResourceDictionary, IResourceDictionary } from '@tawaship/pixim.js';\r\nimport { loadAssetAsync as _loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport loadJS from './loadJS';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport interface IPrepareTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n};\r\n\r\n/**\r\n * Load the assets of createjs content published by Adobe Animate.\r\n * If you use multiple contents, each composition ID must be unique.\r\n * Please run \"Pixim.animate.init\" before running.\r\n */\r\nexport function loadAssetAsync(targets: IPrepareTarget | IPrepareTarget[]) {\r\n\tif (!Array.isArray(targets)) {\r\n\t\ttargets = [targets];\r\n\t}\r\n\t\r\n\tconst promises: Promise<IAnimateLibrary>[] = [];\r\n\t\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst target = targets[i];\r\n\t\t\r\n\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t}\r\n\t\t\r\n\t\tpromises.push(_loadAssetAsync(comp, target.basepath, target.options)\r\n\t\t\t.then((lib: IAnimateLibrary) => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn lib;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn Promise.all(promises)\r\n\t\t.then((resolvers: IAnimateLibrary[]) => {\r\n\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\treturn resolvers[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn resolvers;\r\n\t\t});\r\n}\r\n\r\nexport interface ILoadedAnimateResourceDictionary extends ILoadedResourceDictionary<IAnimateLibrary> {\r\n}\r\n\r\nexport interface IContentAnimateManifestData extends IPrepareTarget {\r\n\t/**\r\n\t * Javascript file path of Animate content.\r\n\t */\r\n\tfilepath: string;\r\n}\r\n\r\nexport class ContentAnimateManifest extends ContentManifestBase<IContentAnimateManifestData, IAnimateLibrary> {\r\n\t/**\r\n\t * Load image resources.\r\n\t * \r\n\t * @override\r\n\t */\r\n\tprotected _loadAsync(basepath: string, version: string, useCache: boolean): Promise<ILoadedAnimateResourceDictionary> {\r\n\t\tconst manifests = this._manifests;\r\n\t\t\r\n\t\tconst promises: Promise<void>[] = [];\r\n\t\t\r\n\t\tfor (let i in manifests) {\r\n\t\t\tconst manifest = manifests[i];\r\n\t\t\tconst contentPath = (manifest.data.basepath === '.' || manifest.data.basepath === './') ? '' : manifest.data.basepath.replace(/([^/])$/, '$1/');\r\n\t\t\tconst dirpath = this._resolvePath(contentPath, basepath);\r\n\t\t\tconst filepath = this._resolvePath(manifest.data.filepath, dirpath);\r\n\t\t\tconst url =\r\n\t\t\t\tversion\r\n\t\t\t\t?`${filepath}${filepath.match(/\\?/) ? '&' : '?'}_fv=${version}`\r\n\t\t\t\t: filepath;\r\n\t\t\t\r\n\t\t\tpromises.push(\r\n\t\t\t\tloadJS(url)\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tthrow `Animate: '${i}' cannot load.`;\r\n\t\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tconst keys: string[] = [];\r\n\t\tconst res: ILoadedAnimateResourceDictionary = {};\r\n\t\treturn Promise.all(promises)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst targets: IPrepareTarget[] = [];\r\n\t\t\t\t\r\n\t\t\t\tfor (let i in manifests) {\r\n\t\t\t\t\tconst manifest = manifests[i];\r\n\t\t\t\t\tkeys.push(i);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttargets.push({\r\n\t\t\t\t\t\tid: manifest.data.id,\r\n\t\t\t\t\t\tbasepath: this._resolvePath(manifest.data.basepath, basepath),\r\n\t\t\t\t\t\toptions: manifest.data.options\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn loadAssetAsync(targets);\r\n\t\t\t})\r\n\t\t\t.then(libs => {\r\n\t\t\t\tif (!Array.isArray(libs)) {\r\n\t\t\t\t\tlibs = [ libs ];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < libs.length; i++) {\r\n\t\t\t\t\tres[keys[i]] = {\r\n\t\t\t\t\t\tresource: libs[i],\r\n\t\t\t\t\t\terror: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn res;\r\n\t\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Destroy resources.\r\n\t * \r\n\t * @override\r\n\t */\r\n\tdestroyResources(resources: IResourceDictionary<IAnimateLibrary>) {\r\n\t\t\r\n\t}\r\n}","export default function loadJS(src: string): Promise<void> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst script = document.createElement('script');\r\n\t\tscript.src = src;\r\n\t\tscript.addEventListener('load', () => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\tresolve();\r\n\t\t});\r\n\t\tscript.addEventListener('error', (e: any) => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\treject(e);\r\n\t\t});\r\n\t\tdocument.body.appendChild(script);\r\n\t});\r\n}","import { Content as PiximContent, IManifestDictionary } from '@tawaship/pixim.js';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { ContentAnimateManifest, IContentAnimateManifestData } from './ContentAnimateManifest';\r\nimport { createjs } from '@tawaship/pixi-animate-core';\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\nPiximContent.registerManifest('animates', ContentAnimateManifest);\r\n\r\n/**\r\n * Define animate assets for class.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] class.\r\n * @param data see also [[https://tawaship.github.io/Pixim.js/interfaces/imanifestdictionary.html | Pixim.IManifestDictionary]].\r\n */\r\nexport function defineAnimatesTo(Content: typeof PiximContent, data: IManifestDictionary<IContentAnimateManifestData>) {\r\n\tContent.defineManifests('animates', data, {});\r\n}\r\n\r\n/**\r\n * Define animate assets for instance.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] instance.\r\n * @param data see also [[https://tawaship.github.io/Pixim.js/interfaces/imanifestdictionary.html | Pixim.IManifestDictionary]].\r\n */\r\nexport function addAnimatesTo(content: PiximContent, data: IManifestDictionary<IContentAnimateManifestData>) {\r\n\tcontent.addManifests('animates', data, {});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Sprite = CreatejsSprite;","import { Container as _Container, Task, ITickerData } from '@tawaship/pixim.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n\ttask: Task;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {},\r\n\t\t\ttask: new Task([], this)\r\n\t\t};\r\n\t\t\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\t\r\n\t\tthis._createjsData.task.add((e: ITickerData) => {\r\n\t\t\tfor (let i in targets) {\r\n\t\t\t\ttargets[i].updateForPixi(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis._createjsData.task.first();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateTask(e: ITickerData) {\r\n\t\tsuper.updateTask(e);\r\n\t\t\r\n\t\tconst task = this._createjsData.task;\r\n\t\t\r\n\t\tif (!this.taskEnabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttask.done(e);\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","child","isVisible","updateForPixi","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","createjs","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","_isDown","EventManager","_events","pointerdown","pointerover","pointerout","pointermove","pointerup","pointerupoutside","_data","mousedown","types","factory","cb","_mousedownFactory","rollover","_rolloverFactory","rollout","_rolloutFactory","pressmove","_pressmoveFactory","pressup","_pressupFactory","add","type","data","func","t","push","origin","on","interactive","remove","j","off","splice","currentTarget","target","ev","rawX","global","x","rawY","y","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","masked","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","LINE_CAP","BUTT","ROUND","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","loadAssetAsync","comp","basepath","options","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","loader","LoadQueue","installPlugin","Sound","errors","evt","images","getImages","item","id","result","handleFileLoad","crossOrigin","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","MotionGuidePlugin","install","AnimateEvent","Event","ReachLabelEvent","label","framerate","_framerateBase","endAnimation","reachLabel","advance","totalFrames","labels","position","replaceInstance","cls","old","console","warn","mode","startPosition","loop","timeline","reversed","tweens","Array","isArray","state","nominalBounds","cache","_CreatejsMovieClip","replaceTexture","_CreatejsBitmap","_CreatejsSprite","targets","promises","AdobeAn","getComposition","_loadAssetAsync","fps","all","resolvers","ContentAnimateManifest","_loadAsync","version","useCache","manifests","_manifests","src","contentPath","dirpath","_resolvePath","filepath","url","match","script","document","createElement","body","appendChild","catch","keys","libs","resource","error","destroyResources","resources","ContentManifestBase","PiximContent","registerManifest","_createjsData","task","Task","first","updateTask","taskEnabled","done","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","content","addManifests","Content","defineManifests"],"mappings":"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"}