{"version":3,"file":"Pixim-animate-container.min.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/Bitmap.ts","../src/Sprite.ts","../src/AnimateBlobLoader.ts","../src/AnimateLoader.ts","../src/AnimateManifest.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.3.0\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nexport { default as createjs } from '@tawaship/createjs-module';\nimport { utils, Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\r\nfunction mixinCreatejsDisplayObject(superClass) {\r\n    class C extends superClass {\r\n        get pixi() {\r\n            return this._pixiData.instance;\r\n        }\r\n        get x() {\r\n            return this._createjsParams.x;\r\n        }\r\n        set x(value) {\r\n            this._pixiData.instance.x = value;\r\n            this._createjsParams.x = value;\r\n        }\r\n        get y() {\r\n            return this._createjsParams.y;\r\n        }\r\n        set y(value) {\r\n            this._pixiData.instance.y = value;\r\n            this._createjsParams.y = value;\r\n        }\r\n        get scaleX() {\r\n            return this._createjsParams.scaleX;\r\n        }\r\n        set scaleX(value) {\r\n            this._pixiData.instance.scale.x = value;\r\n            this._createjsParams.scaleX = value;\r\n        }\r\n        get scaleY() {\r\n            return this._createjsParams.scaleY;\r\n        }\r\n        set scaleY(value) {\r\n            this._pixiData.instance.scale.y = value;\r\n            this._createjsParams.scaleY = value;\r\n        }\r\n        get skewX() {\r\n            return this._createjsParams.skewX;\r\n        }\r\n        set skewX(value) {\r\n            this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n            this._createjsParams.skewX = value;\r\n        }\r\n        get skewY() {\r\n            return this._createjsParams.skewY;\r\n        }\r\n        set skewY(value) {\r\n            this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n            this._createjsParams.skewY = value;\r\n        }\r\n        get regX() {\r\n            return this._createjsParams.regX;\r\n        }\r\n        set regX(value) {\r\n            this._pixiData.regObj.x = value;\r\n            this._createjsParams.regX = value;\r\n        }\r\n        get regY() {\r\n            return this._createjsParams.regY;\r\n        }\r\n        set regY(value) {\r\n            this._pixiData.regObj.y = value;\r\n            this._createjsParams.regY = value;\r\n        }\r\n        get rotation() {\r\n            return this._createjsParams.rotation;\r\n        }\r\n        set rotation(value) {\r\n            this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n            this._createjsParams.rotation = value;\r\n        }\r\n        get visible() {\r\n            return this._createjsParams.visible;\r\n        }\r\n        set visible(value) {\r\n            value = !!value;\r\n            this._pixiData.instance.visible = value;\r\n            this._createjsParams.visible = value;\r\n        }\r\n        get alpha() {\r\n            return this._createjsParams.alpha;\r\n        }\r\n        set alpha(value) {\r\n            this._pixiData.instance.alpha = value;\r\n            this._createjsParams.alpha = value;\r\n        }\r\n        get _off() {\r\n            return this._createjsParams._off;\r\n        }\r\n        set _off(value) {\r\n            this._pixiData.instance.renderable = !value;\r\n            this._createjsParams._off = value;\r\n        }\r\n        addEventListener(type, cb, ...args) {\r\n            if (!(cb instanceof CreatejsButtonHelper)) {\r\n                this._createjsEventManager.add(type, cb);\r\n            }\r\n            return super.addEventListener(type, cb, ...args);\r\n        }\r\n        removeEventListener(type, cb, ...args) {\r\n            if (!(cb instanceof CreatejsButtonHelper)) {\r\n                this._createjsEventManager.remove(type, cb);\r\n            }\r\n            return super.removeEventListener(type, cb, ...args);\r\n        }\r\n        removeAllEventListeners(type, ...args) {\r\n            this._createjsEventManager.removeAll(type);\r\n            return super.removeAllEventListeners(type, ...args);\r\n        }\r\n        get mask() {\r\n            return this._createjsParams.mask;\r\n        }\r\n        set mask(value) {\r\n            if (value) {\r\n                value.masked.push(this._pixiData.instance);\r\n                this._pixiData.instance.mask = value.pixi;\r\n                this._pixiData.instance.once('added', () => {\r\n                    this._pixiData.instance.parent.addChild(value.pixi);\r\n                });\r\n            }\r\n            else {\r\n                this._pixiData.instance.mask = null;\r\n            }\r\n            this._createjsParams.mask = value;\r\n        }\r\n    }\r\n    return C;\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * @ignore\r\n */\r\nconst createjsInteractionEvents = {\r\n    mousedown: true,\r\n    pressmove: true,\r\n    pressup: true,\r\n    rollover: true,\r\n    rollout: true,\r\n    click: true\r\n};\r\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._isDown = false;\r\n        this._cjs = cjs;\r\n        this._emitter = new utils.EventEmitter();\r\n        const pixi = cjs.pixi;\r\n        pixi\r\n            .on('pointerdown', this._onPointerDown, this)\r\n            .on('pointermove', this._onPointerMove, this)\r\n            .on('pointerup', this._onPointerUp, this)\r\n            .on('pointerupoutside', this._onPointerUpOutside, this)\r\n            .on('pointertap', this._onPointerTap, this)\r\n            .on('pointerover', this._onPointerOver, this)\r\n            .on('pointerout', this._onPointerOut, this);\r\n    }\r\n    _onPointerDown(e) {\r\n        e.currentTarget = e.currentTarget.createjs;\r\n        e.target = e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._isDown = true;\r\n        this._emitter.emit('mousedown', e);\r\n    }\r\n    _onPointerMove(e) {\r\n        if (!this._isDown) {\r\n            return;\r\n        }\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('pressmove', e);\r\n    }\r\n    _onPointerUp(e) {\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._isDown = false;\r\n        this._emitter.emit('pressup', e);\r\n    }\r\n    _onPointerUpOutside(e) {\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._isDown = false;\r\n        this._emitter.emit('pressup', e);\r\n    }\r\n    _onPointerTap(e) {\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('click', e);\r\n    }\r\n    _onPointerOver(e) {\r\n        e.currentTarget = e.currentTarget.createjs;\r\n        e.target = e.currentTarget.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('rollover', e);\r\n    }\r\n    _onPointerOut(e) {\r\n        e.currentTarget = e.currentTarget.createjs;\r\n        e.target = e.currentTarget.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('rollout', e);\r\n    }\r\n    add(type, cb) {\r\n        if (!(type in createjsInteractionEvents)) {\r\n            return;\r\n        }\r\n        this._emitter.off(type, cb);\r\n        this._emitter.on(type, cb);\r\n        if (this._emitter.eventNames().length > 0) {\r\n            this._cjs.pixi.interactive = true;\r\n        }\r\n    }\r\n    remove(type, cb) {\r\n        if (!(type in createjsInteractionEvents)) {\r\n            return;\r\n        }\r\n        this._emitter.off(type, cb);\r\n        if (this._emitter.eventNames().length === 0) {\r\n            this._cjs.pixi.interactive = false;\r\n        }\r\n    }\r\n    removeAll(type) {\r\n        if (type && !(type in createjsInteractionEvents)) {\r\n            return;\r\n        }\r\n        this._emitter.removeAllListeners(type);\r\n        if (this._emitter.eventNames().length === 0) {\r\n            this._cjs.pixi.interactive = false;\r\n        }\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return Object.assign(createCreatejsParams(), {\r\n        filters: null\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends mixinCreatejsDisplayObject(createjs.MovieClip) {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends mixinCreatejsDisplayObject(createjs.Sprite) {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends mixinCreatejsDisplayObject(createjs.Shape) {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends mixinCreatejsDisplayObject(createjs.Bitmap) {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends mixinCreatejsDisplayObject(createjs.Graphics) {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends mixinCreatejsDisplayObject(createjs.Text) {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\nfunction resolvePath(path, basepath) {\r\n    return utils.url.resolve(basepath, path);\r\n}\r\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param comp Composition obtained from `AdobeAn.getComposition`.\r\n */\r\nfunction loadAssetAsync(comp) {\r\n    if (!comp) {\r\n        return Promise.reject(new Error('no composition'));\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        const loader = new createjs.LoadQueue(false);\r\n        loader.installPlugin(createjs.Sound);\r\n        const errors = [];\r\n        loader.addEventListener('fileload', (evt) => {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', (evt) => {\r\n            if (errors.length) {\r\n                reject(errors);\r\n                return;\r\n            }\r\n            resolve(evt);\r\n        });\r\n        loader.addEventListener('error', (evt) => {\r\n            errors.push(evt.data);\r\n        });\r\n        loader.loadManifest(lib.properties.manifest || []);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, EventManager, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, loadAssetAsync, mixinCreatejsDisplayObject, resolvePath, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { createjs, CreatejsMovieClip as _CreatejsMovieClip, ITickerData, TCreatejsObject } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\nexport class AnimateEvent extends createjs.Event {\r\n\tconstructor(type: string) {\r\n\t\tsuper(type);\r\n\t}\r\n};\r\n\r\nexport interface IReachLabelData {\r\n\t/**\r\n\t * Label name.\r\n\t */\r\n\tlabel: string;\r\n\t\r\n\t/**\r\n\t * Frame number of label.\r\n\t */\r\n\tposition: number;\r\n}\r\n\r\nexport class ReachLabelEvent extends AnimateEvent {\r\n\tdata: IReachLabelData;\r\n\t\r\n\tconstructor(type: string, label: IReachLabelData) {\r\n\t\tsuper(type);\r\n\t\t\r\n\t\tthis.data = label;\r\n\t}\r\n}\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\t/**\r\n\t * When the last frame of the timeline is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\tendAnimation?(e: AnimateEvent): void {}\r\n\t\r\n\t/**\r\n\t * When either labels is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\treachLabel?(e: ReachLabelEvent): void {}\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tconst currentFrame = this.currentFrame;\r\n\t\t\r\n\t\t// this.advance(e.delta * P);\r\n\t\tthis.advance(P * e.delta);\r\n\t\t\r\n\t\tif (currentFrame !== this.currentFrame) {\r\n\t\t\tif (this.currentFrame === (this.totalFrames - 1)) {\r\n\t\t\t\tthis.dispatchEvent(new AnimateEvent('endAnimation'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < this.labels.length; i++) {\r\n\t\t\t\tconst label = this.labels[i];\r\n\t\t\t\tif (this.currentFrame === label.position) {\r\n\t\t\t\t\tthis.dispatchEvent(new ReachLabelEvent('reachLabel', label));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Replace child instance\r\n\t * \r\n\t * @param name Name of old instancee.\r\n\t * @param cls Class of new instance.\r\n\t */\r\n\treplaceInstance(name: string, cls: typeof CreatejsMovieClip) {\r\n\t\tconst old = this[name];\r\n\t\t\r\n\t\tif (!old) {\r\n\t\t\tconsole.warn(`instance '${name}' was not found.`);\r\n\t\t}\r\n\t\t\r\n\t\tconst props = ['x', 'y', 'scaleX', 'scaleY', 'rotation', 'skewX', 'skewY', 'regX', 'regY', '_off', 'alpha'];\r\n\t\t\r\n\t\tconst instance = this[name] = new cls(old.mode, old.startPosition, old.loop, old.timeline.reversed);\r\n\t\t\r\n\t\tconst tweens = this.timeline.tweens;\r\n\t\tfor (let i = 0; i < tweens.length; i++) {\r\n\t\t\tconst target = tweens[i].target;\r\n\t\t\t\r\n\t\t\tif (Array.isArray(target.state)) {\r\n\t\t\t\tfor (let j = 0; j < target.state.length; j++) {\r\n\t\t\t\t\tif (target.state[j].t === old) {\r\n\t\t\t\t\t\ttarget.state[j].t = instance;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (target === old) {\r\n\t\t\t\ttweens[i].target = instance;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < props.length; i++) {\r\n\t\t\tinstance[props[i]] = old[props[i]];\r\n\t\t}\r\n\t\t\r\n\t\tif (old.mask) {\r\n\t\t\tinstance.mask = old.mask;\r\n\t\t\told.mask = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (old.filters) {\r\n\t\t\tinstance.filters = old.filters;\r\n\t\t\told.filters = null;\r\n\t\t\t\r\n\t\t\tconst nominalBounds = instance.nominalBounds;\r\n\t\t\tinstance.cache(nominalBounds.x - 2, nominalBounds.y - 2, nominalBounds.width + 4, nominalBounds.height + 4);\r\n\t\t}\r\n\t\t\r\n\t\tthis.removeChild(old);\r\n\t\t\r\n\t\treturn instance;\r\n\t}\r\n}\r\n\r\ndelete(CreatejsMovieClip.prototype.endAnimation);\r\ndelete(CreatejsMovieClip.prototype.reachLabel);","import { Texture } from 'pixi.js';\r\nimport { CreatejsBitmap as _CreatejsBitmap } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsbitmap.html | CreatejsBitmap]]\r\n */\r\nexport class CreatejsBitmap extends _CreatejsBitmap {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { Texture } from 'pixi.js';\r\nimport { CreatejsSprite as _CreatejsSprite } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjssprite.html | CreatejsSprite]]\r\n */\r\nexport class CreatejsSprite extends _CreatejsSprite {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import * as Pixim from '@tawaship/pixim.js';\r\n\r\nexport type TAnimateBlobLoaderRawResource = { isObjectURL: boolean, src: string };\r\n\r\nexport class AnimateBlobLoaderResource extends Pixim.LoaderResource<TAnimateBlobLoaderRawResource> {\r\n\tdestroy() {\r\n\t\tif (this._data.isObjectURL) {\r\n\t\t\t(window.URL || window.webkitURL).revokeObjectURL(this._data.src);\r\n\t\t}\r\n\t\t\r\n\t\tthis._data.src = '';\r\n\t}\r\n}\r\n\r\nexport type TAnimateBlobLoaderTarget = string;\r\n\r\nexport interface IAnimateBlobLoaderTargetDictionary extends Pixim.ILoaderTargetDictionary<TAnimateBlobLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateBlobLoaderResourceDictionary extends Pixim.ILoaderResourceDictionary<AnimateBlobLoaderResource> {\r\n\r\n}\r\n\r\nexport interface IAnimateBlobLoaderOption extends Pixim.ILoaderOption {\r\n\r\n}\r\n\r\nexport class AnimateBlobLoader extends Pixim.LoaderBase<TAnimateBlobLoaderTarget, TAnimateBlobLoaderRawResource, AnimateBlobLoaderResource> {\r\n\tprotected _loadAsync(target: TAnimateBlobLoaderTarget, options: IAnimateBlobLoaderOption = {}) {\r\n\t\treturn (() => {\r\n\t\t\tconst data = this._resolveParams(target, options);\r\n\t\t\tconst src = data.src;\r\n\t\t\tconst xhr = data.xhr;\r\n\t\t\t\r\n\t\t\tif (!xhr) {\r\n\t\t\t\treturn Promise.resolve({ isObjectURL: false, src });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn fetch(src, xhr.requestOptions || {})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (!res.ok) {\r\n\t\t\t\t\t\tthrow res.statusText;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn res.blob();\r\n\t\t\t\t})\r\n\t\t\t\t.then(blob => {\r\n\t\t\t\t\treturn (window.URL || window.webkitURL).createObjectURL(blob);\r\n\t\t\t\t})\r\n\t\t\t\t.then(uri => {\r\n\t\t\t\t\treturn { isObjectURL: true, src: uri };\r\n\t\t\t\t});\r\n\t\t})()\r\n\t\t.then(data => new AnimateBlobLoaderResource(data, null))\r\n\t\t.catch((e: any) => new AnimateBlobLoaderResource({ isObjectURL: false, src: '' }, e));\r\n\t}\r\n}","import * as Pixim from '@tawaship/pixim.js';\r\nimport { loadAssetAsync, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { AnimateBlobLoader, TAnimateBlobLoaderTarget, IAnimateBlobLoaderOption } from './AnimateBlobLoader';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport type TAnimateLoaderRawResource = IAnimateLibrary;\r\n\r\nexport class AnimateLoaderResource extends Pixim.LoaderResource<TAnimateLoaderRawResource> {\r\n\tdestroy() {\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport interface IAnimateLoaderTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * Javascript file path of Animate content.\r\n\t */\r\n\tfilepath?: string;\r\n};\r\n\r\nexport type TAnimateLoaderTarget = IAnimateLoaderTarget;\r\n\r\nexport interface IAnimateLoaderTargetDictionary extends Pixim.ILoaderTargetDictionary<TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderResourceDictionary extends Pixim.ILoaderResourceDictionary<TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderOption extends Pixim.ILoaderOption {\r\n\t/**\r\n\t * Animate javascript file version.\r\n\t */\r\n\tfileVersion?: string | number;\r\n\t\r\n\t/**\r\n\t * Animate assets version.\r\n\t */\r\n\tassetVersion?: string | number;\r\n\t\r\n\t/**\r\n\t * Whether use cross-origin flag.<br />\r\n\t * Default is `true`.\r\n\t * \r\n\t */\r\n\tcrossOrigin?: boolean;\r\n}\r\n\r\nexport interface IAnimateManifest {\r\n\tsrc: string;\r\n\tid: string;\r\n\ttype?: string;\r\n\tcrossOrigin?: boolean;\r\n\t[key: string]: any;\r\n}\r\n\r\nexport class AnimateLoader extends Pixim.LoaderBase<TAnimateLoaderTarget, TAnimateLoaderRawResource, AnimateLoaderResource> {\r\n\tprotected _loadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\treturn this._loadJsAsync(target, options)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\t\t\tif (!comp) {\r\n\t\t\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\t\t\tconst manifests: IAnimateManifest[] = lib.properties.manifest;\r\n\t\t\t\tconst version = options.assetVersion || '';\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\t\t\tconst manifest = manifests[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tmanifest.src = Pixim.utils.resolveUri(target.basepath, manifest.src, version);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn this._prepareImagesAsync(manifests, options)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconst crossOrigin = typeof(options.crossOrigin) === 'boolean' ? options.crossOrigin : true;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\t\t\t\t\tconst manifest = manifests[i];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (crossOrigin) {\r\n\t\t\t\t\t\t\t\tmanifest.crossOrigin = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!Pixim.utils.isUrl(manifest.src)) {\r\n\t\t\t\t\t\t\t\tmanifest.type = 'image';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn loadAssetAsync(comp);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.then(lib => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn new AnimateLoaderResource(lib, null);\r\n\t\t\t})\r\n\t\t\t.catch(e => new AnimateLoaderResource({}, e));\r\n\t}\r\n\t\r\n\tprivate _loadJsAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption) {\r\n\t\tif (!target.filepath) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t\t\r\n\t\tconst filepath = Pixim.utils.resolveUri(target.basepath, target.filepath);\r\n\t\t\r\n\t\tconst loader = new Pixim.JsLoader();\r\n\t\t\r\n\t\treturn loader.loadAsync(filepath, Object.assign({}, options, { version: options.fileVersion || options.version }))\r\n\t\t\t.then(resource => {\r\n\t\t\t\tif (resource.error) {\r\n\t\t\t\t\tthrow resource.error;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tresource.ref();\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tprivate _prepareImagesAsync(manifests: IAnimateManifest[], options: IAnimateLoaderOption) {\r\n\t\tconst targets: Pixim.ILoaderTargetDictionary<TAnimateBlobLoaderTarget> = {};\r\n\t\t\r\n\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\tconst manifest = manifests[i];\r\n\t\t\t\r\n\t\t\tif (!Pixim.utils.isUrl(manifest.src)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttargets[i] = manifest.src;\r\n\t\t}\r\n\t\t\r\n\t\tif (Object.keys(targets).length === 0) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t\t\r\n\t\tconst loader = new AnimateBlobLoader();\r\n\t\t\r\n\t\treturn loader.loadAllAsync(targets, Object.assign({}, options, { version: options.assetVersion || options.version }))\r\n\t\t\t.then(resources => {\r\n\t\t\t\tfor (let i in resources) {\r\n\t\t\t\t\tconst resource = resources[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (resource.error) {\r\n\t\t\t\t\t\tthrow resource.error;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!resource.data) {\r\n\t\t\t\t\t\tthrow 'invalid resource';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst _i = Number(i);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!manifests[_i]) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tmanifests[_i].src = resources[i].data.src;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}","import * as Pixim from '@tawaship/pixim.js';\r\nimport * as AnimateLoader from './AnimateLoader';\r\n\r\nexport interface IAnimateManifestTargetDictionary extends Pixim.IManifestTargetDictionary<AnimateLoader.TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateDictionary extends Pixim.IRawResourceDictionary<AnimateLoader.TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport class AnimateManifest extends Pixim.ManifestBase<AnimateLoader.TAnimateLoaderTarget, AnimateLoader.TAnimateLoaderRawResource, AnimateLoader.AnimateLoaderResource> {\r\n\tprotected _createLoader() {\r\n\t\treturn new AnimateLoader.AnimateLoader();\r\n\t}\r\n}","import { Content as PiximContent } from '@tawaship/pixim.js';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { AnimateManifest, IAnimateManifestTargetDictionary } from './AnimateManifest';\r\nimport { createjs } from '@tawaship/pixi-animate-core';\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\nPiximContent.registerManifest('animates', AnimateManifest);\r\n\r\n/**\r\n * Define animate assets for class.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] class.\r\n */\r\nexport function defineAnimatesTo(Content: typeof PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tContent.defineTargets('animates', data, {});\r\n}\r\n\r\n/**\r\n * Define animate assets for instance.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] instance.\r\n */\r\nexport function addAnimatesTo(content: PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tcontent.addTargets('animates', data, {});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Sprite = CreatejsSprite;","import { Container as _Container, Task, ITickerData } from '@tawaship/pixim.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n\ttask: Task;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {},\r\n\t\t\ttask: new Task([], this)\r\n\t\t};\r\n\t\t\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\t\r\n\t\tthis._createjsData.task.add((e: ITickerData) => {\r\n\t\t\tfor (let i in targets) {\r\n\t\t\t\ttargets[i].updateForPixi(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis._createjsData.task.first();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateTask(e: ITickerData) {\r\n\t\tsuper.updateTask(e);\r\n\t\t\r\n\t\tconst task = this._createjsData.task;\r\n\t\t\r\n\t\tif (!this.taskEnabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttask.done({ delta: Math.min(e.delta, 1) });\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["CreatejsButtonHelper","super","args","const","createjs","pixi","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","on","interactive","cursor","ButtonHelper","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","createPixiData","regObj","instance","updateDisplayObjectChildren","cjs","e","list","children","slice","i","l","length","updateForPixi","mixinCreatejsDisplayObject","superClass","C","prototypeAccessors","this","_pixiData","x","_createjsParams","value","y","scaleX","scale","scaleY","skewX","skew","skewY","regX","regY","rotation","visible","_off","renderable","addEventListener","type","cb","_createjsEventManager","add","removeEventListener","remove","removeAllEventListeners","removeAll","mask","masked","push","once","parent","CreatejsStage","props","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","StageGL","createjsInteractionEvents","mousedown","pressmove","pressup","rollover","rollout","click","EventManager","_isDown","_cjs","_emitter","utils","EventEmitter","_onPointerDown","_onPointerMove","_onPointerUp","_onPointerUpOutside","_onPointerTap","_onPointerOver","_onPointerOut","currentTarget","target","ev","data","rawX","global","rawY","emit","off","eventNames","removeAllListeners","PixiMovieClip","_filterContainer","_createjs","filterContainer","Container","createCreatejsMovieClipParams","assign","filters","createPixiMovieClipData","pivot","subInstance","P","MovieClip","CreatejsMovieClip","apply","initialize","_updateState","prototypeAccessors$1","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","child","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$3","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$4","PixiBitmap","prototypeAccessors$5","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","PixiGraphics","prototypeAccessors$6","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","LINE_CAP","BUTT","ROUND","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$7","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","t","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$8","_align","p","shift","indexOf","style","align","height","wordWrapWidth","MotionGuidePlugin","install","AnimateEvent","Event","ReachLabelEvent","label","framerate","_framerateBase","endAnimation","reachLabel","advance","delta","totalFrames","labels","position","replaceInstance","name","cls","old","console","warn","mode","startPosition","loop","timeline","reversed","tweens","Array","isArray","state","j","nominalBounds","cache","_CreatejsMovieClip","replaceTexture","_CreatejsBitmap","_CreatejsSprite","AnimateBlobLoaderResource","destroy","_data","isObjectURL","window","URL","webkitURL","revokeObjectURL","src","Pixim.LoaderResource","AnimateBlobLoader","_loadAsync","options","xhr","_resolveParams","fetch","requestOptions","then","ok","statusText","blob","createObjectURL","uri","Promise","resolve","catch","Pixim.LoaderBase","AnimateLoaderResource","AnimateLoader","_loadJsAsync","comp","AdobeAn","getComposition","id","Error","manifests","getLibrary","properties","manifest","version","assetVersion","Pixim.utils","resolveUri","basepath","_prepareImagesAsync","crossOrigin","isUrl","reject","lib","loader","LoadQueue","installPlugin","Sound","errors","evt","images","getImages","item","result","handleFileLoad","loadManifest","getSpriteSheet","queue","ssMetadata","SpriteSheet","getResult","frames","loadAssetAsync","fps","filepath","Pixim.JsLoader","loadAsync","fileVersion","resource","error","ref","targets","keys","loadAllAsync","resources","_i","AnimateManifest","_createLoader","AnimateLoader.AnimateLoader","Pixim.ManifestBase","PiximContent","registerManifest","_createjsData","task","Task","first","updateTask","taskEnabled","done","min","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","content","addTargets","Content","defineTargets"],"mappings":";;;;;;;;;;;;;;;;AAgBA,IAAMA,cACF,oEACIC,aAASC,GACTC,IAAMC,EAAWF,EAAK,GAChBG,EAAOD,EAASC,KAChBC,EAAYJ,EAAK,GACjBK,EAAYL,EAAK,GACjBM,EAAYN,EAAK,GACjBO,EAAMC,UAAU,GAChBC,EAAWT,EAAK,GACtBO,EAAIG,YAAYD,GAChBR,IAAMU,EAAUR,EAAKS,SAASL,EAAIJ,MAClCQ,EAAQE,MAAQ,KAChBC,IAAIC,GAAS,EACTC,GAAS,EACbL,EAAQM,GAAG,eAAe,WACtBF,GAAS,EACLC,EACAd,EAASQ,YAAYJ,GAGrBJ,EAASQ,YAAYL,MAG7BM,EAAQM,GAAG,cAAc,WACrBF,GAAS,EACLC,EACAd,EAASQ,YAAYL,GAGrBH,EAASQ,YAAYN,MAG7BO,EAAQM,GAAG,eAAe,WACtBD,GAAS,EACTd,EAASQ,YAAYJ,MAEzBK,EAAQM,GAAG,aAAa,WACpBD,GAAS,EACLD,EACAb,EAASQ,YAAYL,GAGrBH,EAASQ,YAAYN,MAG7BO,EAAQM,GAAG,oBAAoB,WAC3BD,GAAS,EACLD,EACAb,EAASQ,YAAYL,GAGrBH,EAASQ,YAAYN,MAG7BO,EAAQO,aAAc,EACtBP,EAAQQ,OAAS,gLAxDmBC,cA4D5C,SAASC,EAAaC,GAClB,OAAOC,OAAOC,OAAOF,GAKzBrB,IAAMwB,EAAaC,KAAKC,GAAK,IAE7B,SAASC,EAAezB,EAAM0B,GAC1B,MAAO,QACHA,EACAC,SAAU3B,GAoBlB,SAAS4B,EAA4BC,EAAKC,GAEtC,IADAhC,IAAMiC,EAAOF,EAAIG,SAASC,QACjBC,EAAI,EAAGC,EAAIJ,EAAKK,OAAQF,EAAIC,EAAGD,IAAK,CAC3BH,EAAKG,GACbG,cAAcP,GAExB,OAAO,EAEX,SAASQ,EAA2BC,GAChC,IAAMC,meACFC,EAAIzC,oBACA,OAAO0C,KAAKC,UAAUhB,UAE1Bc,EAAIG,iBACA,OAAOF,KAAKG,gBAAgBD,GAEhCH,EAAIG,eAAEE,GACFJ,KAAKC,UAAUhB,SAASiB,EAAIE,EAC5BJ,KAAKG,gBAAgBD,EAAIE,GAE7BL,EAAIM,iBACA,OAAOL,KAAKG,gBAAgBE,GAEhCN,EAAIM,eAAED,GACFJ,KAAKC,UAAUhB,SAASoB,EAAID,EAC5BJ,KAAKG,gBAAgBE,EAAID,GAE7BL,EAAIO,sBACA,OAAON,KAAKG,gBAAgBG,QAEhCP,EAAIO,oBAAOF,GACPJ,KAAKC,UAAUhB,SAASsB,MAAML,EAAIE,EAClCJ,KAAKG,gBAAgBG,OAASF,GAElCL,EAAIS,sBACA,OAAOR,KAAKG,gBAAgBK,QAEhCT,EAAIS,oBAAOJ,GACPJ,KAAKC,UAAUhB,SAASsB,MAAMF,EAAID,EAClCJ,KAAKG,gBAAgBK,OAASJ,GAElCL,EAAIU,qBACA,OAAOT,KAAKG,gBAAgBM,OAEhCV,EAAIU,mBAAML,GACNJ,KAAKC,UAAUhB,SAASyB,KAAKR,GAAKE,EAAQxB,EAC1CoB,KAAKG,gBAAgBM,MAAQL,GAEjCL,EAAIY,qBACA,OAAOX,KAAKG,gBAAgBQ,OAEhCZ,EAAIY,mBAAMP,GACNJ,KAAKC,UAAUhB,SAASyB,KAAKL,EAAID,EAAQxB,EACzCoB,KAAKG,gBAAgBQ,MAAQP,GAEjCL,EAAIa,oBACA,OAAOZ,KAAKG,gBAAgBS,MAEhCb,EAAIa,kBAAKR,GACLJ,KAAKC,UAAUjB,OAAOkB,EAAIE,EAC1BJ,KAAKG,gBAAgBS,KAAOR,GAEhCL,EAAIc,oBACA,OAAOb,KAAKG,gBAAgBU,MAEhCd,EAAIc,kBAAKT,GACLJ,KAAKC,UAAUjB,OAAOqB,EAAID,EAC1BJ,KAAKG,gBAAgBU,KAAOT,GAEhCL,EAAIe,wBACA,OAAOd,KAAKG,gBAAgBW,UAEhCf,EAAIe,sBAASV,GACTJ,KAAKC,UAAUhB,SAAS6B,SAAWV,EAAQxB,EAC3CoB,KAAKG,gBAAgBW,SAAWV,GAEpCL,EAAIgB,uBACA,OAAOf,KAAKG,gBAAgBY,SAEhChB,EAAIgB,qBAAQX,GACRA,IAAUA,EACVJ,KAAKC,UAAUhB,SAAS8B,QAAUX,EAClCJ,KAAKG,gBAAgBY,QAAUX,GAEnCL,EAAI/B,qBACA,OAAOgC,KAAKG,gBAAgBnC,OAEhC+B,EAAI/B,mBAAMoC,GACNJ,KAAKC,UAAUhB,SAASjB,MAAQoC,EAChCJ,KAAKG,gBAAgBnC,MAAQoC,GAEjCL,EAAIiB,oBACA,OAAOhB,KAAKG,gBAAgBa,MAEhCjB,EAAIiB,kBAAKZ,GACLJ,KAAKC,UAAUhB,SAASgC,YAAcb,EACtCJ,KAAKG,gBAAgBa,KAAOZ,eAEhCc,0BAAiBC,EAAMC,iEAInB,OAHMA,aAAcnE,GAChB+C,KAAKqB,sBAAsBC,IAAIH,EAAMC,GAElClE,YAAMgE,6BAAiBC,EAAMC,UAAOjE,iBAE/CoE,6BAAoBJ,EAAMC,iEAItB,OAHMA,aAAcnE,GAChB+C,KAAKqB,sBAAsBG,OAAOL,EAAMC,GAErClE,YAAMqE,gCAAoBJ,EAAMC,UAAOjE,iBAElDsE,iCAAwBN,iEAEpB,OADAnB,KAAKqB,sBAAsBK,UAAUP,GAC9BjE,YAAMuE,oCAAwBN,UAAShE,KAElD4C,EAAI4B,oBACA,OAAO3B,KAAKG,gBAAgBwB,MAEhC5B,EAAI4B,kBAAKvB,cACDA,GACAA,EAAMwB,OAAOC,KAAK7B,KAAKC,UAAUhB,UACjCe,KAAKC,UAAUhB,SAAS0C,KAAOvB,EAAM9C,KACrC0C,KAAKC,UAAUhB,SAAS6C,KAAK,oBACzB9B,EAAKC,UAAUhB,SAAS8C,OAAOhE,SAASqC,EAAM9C,UAIlD0C,KAAKC,UAAUhB,SAAS0C,KAAO,KAEnC3B,KAAKG,gBAAgBwB,KAAOvB,6CAvHpBP,GA0HhB,OAAOC,EAMX,IAAMkC,6JACFrC,uBAAcsC,GAOV,OANIjC,KAAKkC,cACLlC,KAAKmC,KAAKF,GAEdjC,KAAKoC,cAAc,aACnBlD,EAA4Bc,KAAMiC,GAClCjC,KAAKoC,cAAc,YACZ,MARa/E,EAASgF,OAe/BC,6JACF3C,uBAAcsC,GAOV,OANIjC,KAAKkC,cACLlC,KAAKmC,KAAKF,GAEdjC,KAAKoC,cAAc,aACnBlD,EAA4Bc,KAAMiC,GAClCjC,KAAKoC,cAAc,YACZ,MARe/E,EAASkF,SAejCC,EAA4B,CAC9BC,WAAW,EACXC,WAAW,EACXC,SAAS,EACTC,UAAU,EACVC,SAAS,EACTC,OAAO,GAELC,EACF,SAAY5D,GACRa,KAAKgD,SAAU,EACfhD,KAAKiD,KAAO9D,EACZa,KAAKkD,SAAW,IAAIC,QAAMC,aACbjE,EAAI7B,KAEZc,GAAG,cAAe4B,KAAKqD,eAAgBrD,MACvC5B,GAAG,cAAe4B,KAAKsD,eAAgBtD,MACvC5B,GAAG,YAAa4B,KAAKuD,aAAcvD,MACnC5B,GAAG,mBAAoB4B,KAAKwD,oBAAqBxD,MACjD5B,GAAG,aAAc4B,KAAKyD,cAAezD,MACrC5B,GAAG,cAAe4B,KAAK0D,eAAgB1D,MACvC5B,GAAG,aAAc4B,KAAK2D,cAAe3D,mBAE9CqD,wBAAejE,GACXA,EAAEwE,cAAgBxE,EAAEwE,cAAcvG,SAClC+B,EAAEyE,OAASzE,EAAEyE,OAAOxG,SACpBD,IAAM0G,EAAK1E,EAAE2E,KACb3E,EAAE4E,KAAOF,EAAGG,OAAO/D,EACnBd,EAAE8E,KAAOJ,EAAGG,OAAO5D,EACnBL,KAAKgD,SAAU,EACfhD,KAAKkD,SAASiB,KAAK,YAAa/E,gBAEpCkE,wBAAelE,GACX,GAAKY,KAAKgD,QAAV,CAGA5D,EAAEwE,cAAgB5D,KAAKiD,KACvB7D,EAAEyE,OAASzE,EAAEyE,QAAUzE,EAAEyE,OAAOxG,SAChCD,IAAM0G,EAAK1E,EAAE2E,KACb3E,EAAE4E,KAAOF,EAAGG,OAAO/D,EACnBd,EAAE8E,KAAOJ,EAAGG,OAAO5D,EACnBL,KAAKkD,SAASiB,KAAK,YAAa/E,iBAEpCmE,sBAAanE,GACTA,EAAEwE,cAAgB5D,KAAKiD,KACvB7D,EAAEyE,OAASzE,EAAEyE,QAAUzE,EAAEyE,OAAOxG,SAChCD,IAAM0G,EAAK1E,EAAE2E,KACb3E,EAAE4E,KAAOF,EAAGG,OAAO/D,EACnBd,EAAE8E,KAAOJ,EAAGG,OAAO5D,EACnBL,KAAKgD,SAAU,EACfhD,KAAKkD,SAASiB,KAAK,UAAW/E,gBAElCoE,6BAAoBpE,GAChBA,EAAEwE,cAAgB5D,KAAKiD,KACvB7D,EAAEyE,OAASzE,EAAEyE,QAAUzE,EAAEyE,OAAOxG,SAChCD,IAAM0G,EAAK1E,EAAE2E,KACb3E,EAAE4E,KAAOF,EAAGG,OAAO/D,EACnBd,EAAE8E,KAAOJ,EAAGG,OAAO5D,EACnBL,KAAKgD,SAAU,EACfhD,KAAKkD,SAASiB,KAAK,UAAW/E,gBAElCqE,uBAAcrE,GACVA,EAAEwE,cAAgB5D,KAAKiD,KACvB7D,EAAEyE,OAASzE,EAAEyE,QAAUzE,EAAEyE,OAAOxG,SAChCD,IAAM0G,EAAK1E,EAAE2E,KACb3E,EAAE4E,KAAOF,EAAGG,OAAO/D,EACnBd,EAAE8E,KAAOJ,EAAGG,OAAO5D,EACnBL,KAAKkD,SAASiB,KAAK,QAAS/E,gBAEhCsE,wBAAetE,GACXA,EAAEwE,cAAgBxE,EAAEwE,cAAcvG,SAClC+B,EAAEyE,OAASzE,EAAEwE,cAAcvG,SAC3BD,IAAM0G,EAAK1E,EAAE2E,KACb3E,EAAE4E,KAAOF,EAAGG,OAAO/D,EACnBd,EAAE8E,KAAOJ,EAAGG,OAAO5D,EACnBL,KAAKkD,SAASiB,KAAK,WAAY/E,gBAEnCuE,uBAAcvE,GACVA,EAAEwE,cAAgBxE,EAAEwE,cAAcvG,SAClC+B,EAAEyE,OAASzE,EAAEwE,cAAcvG,SAC3BD,IAAM0G,EAAK1E,EAAE2E,KACb3E,EAAE4E,KAAOF,EAAGG,OAAO/D,EACnBd,EAAE8E,KAAOJ,EAAGG,OAAO5D,EACnBL,KAAKkD,SAASiB,KAAK,UAAW/E,gBAElCkC,aAAIH,EAAMC,GACAD,KAAQqB,IAGdxC,KAAKkD,SAASkB,IAAIjD,EAAMC,GACxBpB,KAAKkD,SAAS9E,GAAG+C,EAAMC,GACnBpB,KAAKkD,SAASmB,aAAa3E,OAAS,IACpCM,KAAKiD,KAAK3F,KAAKe,aAAc,iBAGrCmD,gBAAOL,EAAMC,GACHD,KAAQqB,IAGdxC,KAAKkD,SAASkB,IAAIjD,EAAMC,GACkB,IAAtCpB,KAAKkD,SAASmB,aAAa3E,SAC3BM,KAAKiD,KAAK3F,KAAKe,aAAc,iBAGrCqD,mBAAUP,GACFA,KAAUA,KAAQqB,KAGtBxC,KAAKkD,SAASoB,mBAAmBnD,GACS,IAAtCnB,KAAKkD,SAASmB,aAAa3E,SAC3BM,KAAKiD,KAAK3F,KAAKe,aAAc,KAQzC,IAAMkG,cACF,WAAYpF,GACRjC,aACA8C,KAAKwE,iBAAmB,KACxBxE,KAAKyE,UAAYtF,qKAErBY,EAAI2E,+BACA,OAAO1E,KAAKwE,kBAEhBzE,EAAI2E,6BAAgBtE,GAChBJ,KAAKwE,iBAAmBpE,GAE5BL,EAAI1C,wBACA,OAAO2C,KAAKyE,qDAbQE,aAmB5B,SAASC,IACL,OAAOlG,OAAOmG,OAjUP,CACH3E,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MAoTmC,CACzCmD,QAAS,OAMjB,SAASC,EAAwB5F,GAC7B/B,IAAME,EAAO,IAAIiH,EAAcpF,GAC/B,OAAOT,OAAOmG,OAAO9F,EAAezB,EAAMA,EAAK0H,OAAQ,CACnDC,YAAa3H,IAMrBF,IAAM8H,EAAI7H,EAAS8H,UAIbC,cACF,oEACIlI,aACA8C,KAAKC,UAAY8E,EAAwB/E,MACzCA,KAAKG,gBAAkByE,IACvB5E,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MAC9CkF,EAAEG,MAAMrF,KAAM7C,+IAElBmI,6EAII,OAHAtF,KAAKC,UAAY8E,EAAwB/E,MACzCA,KAAKG,gBAAkByE,IACvB5E,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MACvC9C,YAAMoI,sBAAcnI,gBAE/BwC,uBAAcP,GAEV,OADAY,KAAKuF,eACErG,EAA4Bc,KAAMZ,IAE7CoG,EAAIV,uBACA,OAAO9E,KAAKG,gBAAgB2E,SAEhCU,EAAIV,qBAAQ1E,GACR,GAAIA,EAAO,CAEP,IADAhD,IAAMiC,EAAO,GACJG,EAAI,EAAGA,EAAIY,EAAMV,OAAQF,IAAK,CACnCpC,IAAMqI,EAAIrF,EAAMZ,GAChB,KAAIiG,aAAapI,EAASqI,mBAA1B,CAGAtI,IAAMuI,EAAI,IAAIb,UAAQY,kBACtBC,EAAEC,OAAS,CACPH,EAAEI,cAAe,EAAG,EAAG,EAAGJ,EAAEK,UAAY,IACxC,EAAGL,EAAEM,gBAAiB,EAAG,EAAGN,EAAEO,YAAc,IAC5C,EAAG,EAAGP,EAAEQ,eAAgB,EAAGR,EAAES,WAAa,IAC1C,EAAG,EAAG,EAAGT,EAAEU,gBAAiBV,EAAEW,YAAc,IAC5C,EAAG,EAAG,EAAG,EAAG,GAEhB/G,EAAKwC,KAAK8D,IAMd,IAJA,IAAIU,EAAIrG,KAAKC,UAAUhB,SACnBqH,EAAID,EAAE/G,SACNiH,EAAI,IAAI5B,YACR6B,EAAKxG,KAAKC,UAAUgF,YAAcsB,EAAExI,SAAS,IAAI4G,aAC9C2B,EAAE5G,QACL8G,EAAGzI,SAASuI,EAAE,IAElBD,EAAEtI,SAASwI,GACXF,EAAE3B,gBAAkB8B,EACpBA,EAAGC,kBACHD,EAAGE,kBACHtJ,IAAMuJ,EAAIH,EAAGI,iBACP1G,EAAIyG,EAAEzG,EACNG,EAAIsG,EAAEtG,EACZ,IAASb,EAAI,EAAGA,EAAIgH,EAAGlH,SAASI,OAAQF,IAAK,CACzCpC,IAAMyJ,EAAQL,EAAGlH,SAASE,GAG1B,GAFAqH,EAAM3G,GAAKA,EACX2G,EAAMxG,GAAKA,EACPwG,aAAiBtC,EAAe,CAChCnH,IAAM0J,EAAKD,EAAMnC,gBACboC,IACAA,EAAGC,eAAgB,IAI/BR,EAAErG,EAAIA,EACNqG,EAAElG,EAAIA,EACNmG,EAAG1B,QAAUzF,EACbmH,EAAGO,eAAgB,MAElB,CACD3J,IAAMiJ,EAAIrG,KAAKC,UAAUhB,SACzB,GAAIoH,EAAE3B,gBAAiB,CACnBtH,IAAMoJ,EAAKxG,KAAKC,UAAUgF,YACpBsB,EAAIC,EAAGzE,OACPuE,EAAIE,EAAGlH,SAGb,IAFA+G,EAAEW,iBACFX,EAAE3B,gBAAkB,KACb4B,EAAE5G,QAAQ,CACbtC,IAAM6J,EAAIZ,EAAEtI,SAASuI,EAAE,IACvBW,EAAE/G,GAAKqG,EAAErG,EACT+G,EAAE5G,GAAKkG,EAAElG,EAEbmG,EAAG1B,QAAU,GACb0B,EAAGO,eAAgB,EACnB/G,KAAKC,UAAUgF,YAAcoB,GAGrCrG,KAAKG,gBAAgB2E,QAAU1E,eAEnCrC,kBAAS8I,GAEL,OADA7G,KAAKC,UAAUgF,YAAYlH,SAAS8I,EAAMvJ,MACnCJ,YAAMa,mBAAS8I,gBAE1BK,oBAAWL,EAAOM,GAEd,OADAnH,KAAKC,UAAUgF,YAAYiC,WAAWL,EAAMvJ,KAAM6J,GAC3CjK,YAAMgK,qBAAWL,EAAOM,gBAEnCC,qBAAYP,GAER,OADA7G,KAAKC,UAAUgF,YAAYmC,YAAYP,EAAMvJ,MACtCJ,YAAMkK,sBAAYP,gBAE7BQ,uBAAcF,GAEV,OADAnH,KAAKC,UAAUgF,YAAYoC,cAAcF,GAClCjK,YAAMmK,wBAAcF,gBAE/BG,4BAEI,OADAtH,KAAKC,UAAUgF,YAAY+B,iBACpB9J,YAAMoK,uEA3GW1H,EAA2BvC,EAAS8H,YA+GpEzG,OAAO6I,iBAAiBnC,EAAkBoC,UAAW,CACjDrH,gBAAiB,CACbC,MAAOwE,IACP6C,UAAU,GAEdxH,UAAW,CACPG,MAAO2E,EAAwBvG,EAAa4G,EAAkBoC,YAC9DC,UAAU,KAOlB,IAAMC,cACF,WAAYvI,GACRjC,aACA8C,KAAKyE,UAAYtF,mIAErBwI,EAAItK,wBACA,OAAO2C,KAAKyE,qDANKmD,UAkBzB,SAASC,EAAqB1I,GAC1B/B,IAAME,EAAO,IAAIoK,EAAWvI,GAC5B,OAAOJ,EAAezB,EAAMA,EAAKwK,QAKrC1K,IAAM2K,EAAM1K,EAASuK,OAIfI,cACF,oEACI9K,aAASC,GACT6C,KAAKC,UAAY4H,EAAqB7H,MACtCA,KAAKG,gBAnfF,CACHD,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MAueN3B,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MAC9C+H,EAAI1C,MAAMrF,KAAM7C,6GAEpBmI,6EAII,OAHAtF,KAAKC,UAAY4H,EAAqB7H,MACtCA,KAAKG,gBAzfF,CACHD,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MA6eN3B,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MACvC9C,YAAMoI,sBAAcnI,gBAE/BwC,uBAAcP,GACV,OAAO,eAEXvB,8EACIX,YAAMW,uBAAeV,GACrBC,IAAM6K,EAAQjI,KAAKkI,YAAYC,SAASnI,KAAKoI,cACvCC,EAAcC,cAAYC,KAAKN,EAAMO,OACrCC,EAAU,IAAIC,UAAQL,EAAaJ,EAAMU,MAC/C3I,KAAKC,UAAUhB,SAASwJ,QAAUA,MAtBb7I,EAA2BvC,EAASuK,SA0BjElJ,OAAO6I,iBAAiBS,EAAeR,UAAW,CAC9CrH,gBAAiB,CACbC,MA3gBG,CACHF,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MA+fN8F,UAAU,GAEdxH,UAAW,CACPG,MAAOyH,EAAqBrJ,EAAawJ,EAAeR,YACxDC,UAAU,KAOlB,IAAMmB,cACF,WAAYzJ,GACRjC,aACA8C,KAAKyE,UAAYtF,mIAErB0J,EAAIxL,wBACA,OAAO2C,KAAKyE,qDANIE,aAYxB,SAASmE,EAA0BC,GAC/B,OAAOrK,OAAOmG,OApiBP,CACH3E,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MAuhBmC,UACzCoH,IAMR,SAASC,EAAoB7J,GACzB/B,IAAME,EAAO,IAAIsL,EAAUzJ,GAC3B,OAAOT,OAAOmG,OAAO9F,EAAezB,EAAMA,EAAK0H,OAAQ,CACnDpD,OAAQ,KAMhBxE,IAAM6L,EAAM5L,EAAS6L,MAIfC,cACF,oEACIjM,aAASC,GACT6C,KAAKC,UAAY+I,EAAoBhJ,MACrCA,KAAKG,gBAAkB2I,EAA0B,MACjD9I,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MAC9CiJ,EAAI5D,MAAMrF,KAAM7C,yKAEpBmI,6EAII,OAHAtF,KAAKC,UAAY+I,EAAoBhJ,MACrCA,KAAKG,gBAAkB2I,EAA0B,MACjD9I,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MACvC9C,YAAMoI,sBAAcnI,gBAE/BwC,uBAAcP,GACV,OAAO,GAEXgK,EAAIL,wBACA,OAAO/I,KAAKG,gBAAgB4I,UAEhCK,EAAIL,sBAAS3I,GACT,GAAIJ,KAAKC,UAAU2B,OAAOlC,OAEtB,GADAM,KAAKC,UAAUhB,SAAS+H,iBACpB5G,EACA,IAAKnC,IAAIuB,EAAI,EAAGA,EAAIQ,KAAKC,UAAU2B,OAAOlC,OAAQF,IAC9CQ,KAAKC,UAAU2B,OAAOpC,GAAGmC,KAAO3B,KAAKC,UAAUhB,cAInD,IAAKhB,IAAIuB,EAAI,EAAGA,EAAIQ,KAAKC,UAAU2B,OAAOlC,OAAQF,IAC9CQ,KAAKC,UAAU2B,OAAOpC,GAAGmC,KAAO,KAIxCvB,GACAJ,KAAKC,UAAUhB,SAASlB,SAASqC,EAAM9C,MAE3C0C,KAAKG,gBAAgB4I,SAAW3I,GAEpCgJ,EAAIxH,sBACA,OAAO5B,KAAKC,UAAU2B,kDAxCFhC,EAA2BvC,EAAS6L,QA4ChExK,OAAO6I,iBAAiB4B,EAAc3B,UAAW,CAC7CrH,gBAAiB,CACbC,MAAO0I,EAA0B,MACjCrB,UAAU,GAEdxH,UAAW,CACPG,MAAO4I,EAAoBxK,EAAa2K,EAAc3B,YACtDC,UAAU,KAOlB,IAAM4B,cACF,WAAYlK,GACRjC,aACA8C,KAAKyE,UAAYtF,mIAErBmK,EAAIjM,wBACA,OAAO2C,KAAKyE,qDANKmD,UAkBzB,SAAS2B,EAAqBpK,GAC1B/B,IAAME,EAAO,IAAI+L,EAAWlK,GAC5B,OAAOJ,EAAezB,EAAMA,EAAKwK,QAKrC1K,IAAMoM,EAAMnM,EAASoM,OAIfC,cACF,oEACIxM,aAASC,GACT6C,KAAKC,UAAYsJ,EAAqBvJ,MACtCA,KAAKG,gBAnpBF,CACHD,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MAuoBN3B,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MAC9CwJ,EAAInE,MAAMrF,KAAM7C,6GAEpBmI,6EACItF,KAAKC,UAAYsJ,EAAqBvJ,MACtCA,KAAKG,gBAzpBF,CACHD,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MA6oBN3B,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MAC9C5C,IAAMuM,EAAMzM,YAAMoI,sBAAcnI,GAC1BsL,EAAUC,UAAQH,KAAKvI,KAAKwI,OAElC,OADAxI,KAAKC,UAAUhB,SAASwJ,QAAUA,EAC3BkB,eAEXhK,uBAAcP,GACV,OAAO,MAlBcQ,EAA2BvC,EAASoM,SAsBjE/K,OAAO6I,iBAAiBmC,EAAelC,UAAW,CAC9CrH,gBAAiB,CACbC,MAvqBG,CACHF,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MA2pBN8F,UAAU,GAEdxH,UAAW,CACPG,MAAOmJ,EAAqB/K,EAAakL,EAAelC,YACxDC,UAAU,KAOlB,IAAMmC,cACF,WAAYzK,GACRjC,aACA8C,KAAKyE,UAAYtF,mIAErB0K,EAAIxM,wBACA,OAAO2C,KAAKyE,qDANOqF,YAkB3B,SAASC,EAAuB5K,GAC5B/B,IAAME,EAAO,IAAIsM,EAAazK,GAC9B,OAAOT,OAAOmG,OAAO9F,EAAezB,EAAMA,EAAK0H,OAAQ,CACnDgF,WAAY,EACZC,YAAa,IAMrB7M,IAQM8M,EAAU,CACZ,EAAGC,WAASC,KACZ,EAAGD,WAASE,MACZ,EAAGF,WAASG,QAKVC,EAAW,CACb,EAAGC,YAAUC,MACb,EAAGD,YAAUH,MACb,EAAGG,YAAUE,OAKXC,EAAMtN,EAASyM,SAIfc,cACF,oEACI1N,aAASC,GACT6C,KAAKC,UAAY8J,EAAuB/J,MACxCA,KAAKG,gBA/uBF,CACHD,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MAmuBN3B,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MAC9C2K,EAAItF,MAAMrF,KAAM7C,GAChB6C,KAAKC,UAAUhB,SAAS4L,UAAU,SAAU,GAC5C7K,KAAKC,UAAU+J,WAAa,EAC5BhK,KAAKC,UAAUgK,YAAc,4GAEjC3E,6EAII,OAHAtF,KAAKC,UAAY8J,EAAuB/J,MACxCA,KAAKG,gBAxvBF,CACHD,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MA4uBN3B,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MACvC9C,YAAMoI,sBAAcnI,gBAE/BwC,uBAAcP,GACV,OAAO,eAGX0L,gBAAO5K,EAAGG,GAQN,OAPIL,KAAKC,UAAUhB,SAAS8L,QAAQC,UAAUC,cAAc,CAAE/K,EAAGA,EAAGG,EAAGA,IACnEL,KAAKC,UAAUhB,SAASiM,YAGxBlL,KAAKC,UAAUhB,SAASkM,UAE5BnL,KAAKC,UAAUhB,SAAS6L,OAAO5K,EAAGG,GAC3BnD,YAAM4N,iBAAO5K,EAAGG,gBAE3B+K,YAAGlL,EAAGG,GACF,OAAOL,KAAK8K,OAAO5K,EAAGG,gBAE1BgL,gBAAOnL,EAAGG,GAEN,OADAL,KAAKC,UAAUhB,SAASoM,OAAOnL,EAAGG,GAC3BnD,YAAMmO,iBAAOnL,EAAGG,gBAE3BiL,YAAGpL,EAAGG,GACF,OAAOL,KAAKqL,OAAOnL,EAAGG,gBAE1BkL,eAAMC,EAAIC,EAAIC,EAAIC,EAAIC,GAElB,OADA5L,KAAKC,UAAUhB,SAASsM,MAAMC,EAAIC,EAAIC,EAAIC,EAAIC,GACvC1O,YAAMqO,gBAAMC,EAAIC,EAAIC,EAAIC,EAAIC,gBAEvCC,YAAGL,EAAIC,EAAIC,EAAIC,EAAIC,GACf,OAAO5L,KAAKuL,MAAMC,EAAIC,EAAIC,EAAIC,EAAIC,gBAEtCE,aAAI5L,EAAGG,EAAGuL,EAAQG,EAAYC,EAAUC,GAEpC,OADAjM,KAAKC,UAAUhB,SAAS6M,IAAI5L,EAAGG,EAAGuL,EAAQG,EAAYC,EAAUC,GACzD/O,YAAM4O,cAAI5L,EAAGG,EAAGuL,EAAQG,EAAYC,EAAUC,gBAEzDC,WAAEhM,EAAGG,EAAGuL,EAAQG,EAAYC,EAAUC,GAClC,OAAOjM,KAAK8L,IAAI5L,EAAGG,EAAGuL,EAAQG,EAAYC,EAAUC,gBAExDE,0BAAiBC,EAAKC,EAAKnM,EAAGG,GAE1B,OADAL,KAAKC,UAAUhB,SAASkN,iBAAiBC,EAAKC,EAAKnM,EAAGG,GAC/CnD,YAAMiP,2BAAiBC,EAAKC,EAAKnM,EAAGG,gBAE/CiM,YAAGF,EAAKC,EAAKnM,EAAGG,GACZ,OAAOL,KAAKmM,iBAAiBC,EAAKC,EAAKnM,EAAGG,gBAE9CkM,iBAAQH,EAAKC,EAAKnM,EAAGG,GACjB,OAAOL,KAAKmM,iBAAiBC,EAAKC,EAAKnM,EAAGG,gBAE9CmM,uBAAcC,EAAMC,EAAMC,EAAMC,EAAM1M,EAAGG,GAErC,OADAL,KAAKC,UAAUhB,SAASuN,cAAcC,EAAMC,EAAMC,EAAMC,EAAM1M,EAAGG,GAC1DnD,YAAMsP,wBAAcC,EAAMC,EAAMC,EAAMC,EAAM1M,EAAGG,gBAE1DwM,YAAGJ,EAAMC,EAAMC,EAAMC,EAAM1M,EAAGG,GAC1B,OAAOL,KAAKwM,cAAcC,EAAMC,EAAMC,EAAMC,EAAM1M,EAAGG,gBAEzDsI,cAAKzI,EAAGG,EAAGyM,EAAGC,GAEV,OADA/M,KAAKC,UAAUhB,SAAS+N,SAAS9M,EAAGG,EAAGyM,EAAGC,GACnC7P,YAAMyL,eAAKzI,EAAGG,EAAGyM,EAAGC,gBAE/BE,WAAE/M,EAAGG,EAAGyM,EAAGC,GACP,OAAO/M,KAAK2I,KAAKzI,EAAGG,EAAGyM,EAAGC,gBAE9BC,kBAAS9M,EAAGG,EAAGyM,EAAGC,GACd,OAAO/M,KAAK2I,KAAKzI,EAAGG,EAAGyM,EAAGC,gBAE9BG,YAAGhN,EAAGG,EAAGyM,EAAGC,GACR,OAAO/M,KAAK2I,KAAKzI,EAAGG,EAAGyM,EAAGC,gBAE9BI,qBAEI,OADAnN,KAAKC,UAAUhB,SAASkO,YACjBjQ,YAAMiQ,kCAEjBC,cACI,OAAOpN,KAAKmN,yBAEhBE,iBAEI,OADArN,KAAKC,UAAUhB,SAASoO,QACjBnQ,YAAMmQ,8BAEjB/G,aACI,OAAOtG,KAAKqN,qBAEhBC,qBAAYC,GACRnQ,IAAMuM,EAAM,CACR4D,MAAO,EACPvP,MAAO,GAEX,IAAKuP,EAED,OADA5D,EAAI3L,MAAQ,EACL2L,EAEX,GAAwB,MAApB4D,EAAMC,OAAO,GAEb,OADA7D,EAAI4D,MAAQE,SAASF,EAAMhO,MAAM,GAAI,IAC9BoK,EAEXvM,IAAMsQ,EAASH,EAAMI,QAAQ,iBAAkB,IAAIC,MAAM,KAGzD,OAFAjE,EAAI4D,MA7IM,MA6IEM,OAAOH,EAAO,IAzId,IAyIgCG,OAAOH,EAAO,IAAoBG,OAAOH,EAAO,IAC5F/D,EAAI3L,MAAQ6P,OAAOH,EAAO,IACnB/D,eAEXkB,mBAAU0C,GACNnQ,IAAMkJ,EAAItG,KAAKsN,YAAYC,GAE3B,OADAvN,KAAKC,UAAUhB,SAAS4L,UAAUvE,EAAEiH,MAAOjH,EAAEtI,OACtCd,YAAM2N,oBAAU0C,gBAE3B9H,WAAE8H,GACE,OAAOvN,KAAK6K,UAAU0C,gBAE1BvC,mBAEI,OADAhL,KAAKC,UAAUhB,SAAS+L,UACjB9N,YAAM8N,gCAEjB8C,cACI,OAAO9N,KAAKgL,uBAEhB+C,wBAAeC,EAAWC,EAAMC,EAAQC,EAAYC,GAShD,OARApO,KAAKC,UAAUhB,SAASoP,iBAAiB,CACrCC,MAAON,EACPT,MAAOvN,KAAKC,UAAU+J,WACtBhM,MAAOgC,KAAKC,UAAUgK,YACtBsE,IAAMN,KAAQ/D,EAAWA,EAAQ+D,GAAQ/D,EAAQ,GACjDsE,KAAON,KAAU3D,EAAYA,EAAS2D,GAAU3D,EAAS,cACzD4D,IAEGjR,YAAM6Q,yBAAeC,EAAWC,EAAMC,EAAQC,EAAYC,gBAErEK,YAAGT,EAAWC,EAAMC,EAAQC,EAAYC,GACpC,OAAOpO,KAAK+N,eAAeC,EAAWC,EAAMC,EAAQC,EAAYC,gBAEpEM,qBAAYnB,GACRnQ,IAAMkJ,EAAItG,KAAKsN,YAAYC,GAG3B,OAFAvN,KAAKC,UAAU+J,WAAa1D,EAAEiH,MAC9BvN,KAAKC,UAAUgK,YAAc3D,EAAEtI,MACxBd,YAAMwR,sBAAYnB,gBAE7BoB,WAAEpB,GACE,OAAOvN,KAAK0O,YAAYnB,gBAE5BqB,uBAAc1O,EAAGG,EAAGyM,EAAGC,EAAGnB,GAEtB,OADA5L,KAAKC,UAAUhB,SAAS4P,gBAAgB3O,EAAGG,EAAGyM,EAAGC,EAAGnB,GAC7C1O,YAAM0R,wBAAc1O,EAAGG,EAAGyM,EAAGC,EAAGnB,gBAE3CkD,YAAG5O,EAAGG,EAAGyM,EAAGC,EAAGnB,GACX,OAAO5L,KAAK4O,cAAc1O,EAAGG,EAAGyM,EAAGC,EAAGnB,gBAE1CmD,oBAAW7O,EAAGG,EAAGuL,GAEb,OADA5L,KAAKC,UAAUhB,SAAS8P,WAAW7O,EAAGG,EAAGuL,GAClC1O,YAAM6R,qBAAW7O,EAAGG,EAAGuL,gBAElCoD,YAAG9O,EAAGG,EAAGuL,GACL,OAAO5L,KAAK+O,WAAW7O,EAAGG,EAAGuL,gBAEjCqD,qBAAY/O,EAAGG,EAAGyM,EAAGC,GAEjB,OADA/M,KAAKC,UAAUhB,SAASgQ,YAAY/O,EAAGG,EAAGyM,EAAGC,GACtC7P,YAAM+R,sBAAY/O,EAAGG,EAAGyM,EAAGC,gBAEtCmC,YAAGhP,EAAGG,EAAGyM,EAAGC,GACR,OAAO/M,KAAKiP,YAAY/O,EAAGG,EAAGyM,EAAGC,gBAErCoC,sBAAajP,EAAGG,EAAGuL,EAAQwD,EAAOC,EAAWC,GAEzC,OADAtP,KAAKC,UAAUhB,SAASsQ,mBAAmBrP,EAAGG,EAAGuL,EAAQwD,EAAOE,EAAQ1Q,GACjE1B,YAAMiS,uBAAajP,EAAGG,EAAGuL,EAAQwD,EAAOC,EAAWC,gBAE9DE,YAAGtP,EAAGG,EAAGuL,EAAQwD,EAAOC,EAAWC,GAC/B,OAAOtP,KAAKmP,aAAajP,EAAGG,EAAGuL,EAAQwD,EAAOC,EAAWC,OArLlC1P,EAA2BvC,EAASyM,WAyLnEpL,OAAO6I,iBAAiBqD,EAAiBpD,UAAW,CAChDrH,gBAAiB,CACbC,MAt6BG,CACHF,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MA05BN8F,UAAU,GAEdxH,UAAW,CACPG,MAAO2J,EAAuBvL,EAAaoM,EAAiBpD,YAC5DC,UAAU,KAOlB,IAAMgI,oJAAiBC,QAKjBC,cACF,WAAYxQ,EAAKyQ,GACb1S,aACA8C,KAAKyE,UAAYtF,EACjBa,KAAK6P,MAAQD,0JAEjBE,EAAIzS,wBACA,OAAO2C,KAAKyE,WAEhBqL,EAAIF,oBACA,OAAO5P,KAAK6P,iDAVYlL,aAoBhC,SAASoL,EAAyBH,EAAMI,EAAMzC,GAC1C,OAAO7O,OAAOmG,OA58BP,CACH3E,EAAG,EACHG,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRI,KAAM,EACNC,KAAM,EACNJ,MAAO,EACPE,MAAO,EACPG,SAAU,EACVC,SAAS,EACT/C,MAAO,EACPgD,MAAM,EACNW,KAAM,MA+7BmC,CACzCiO,KAAMA,EACNI,KAAMA,EACNzC,MAAOA,EACP0C,UATU,OAUVC,WAAY,EACZC,UAAW,IAMnB,SAASC,EAAmBjR,EAAKyQ,GAC7BxS,IAAME,EAAO,IAAIqS,EAAkBxQ,EAAKyQ,GACxC,OAAO7Q,EAAezB,EAAMA,EAAK0H,OAKrC5H,IAAMiT,EAAMhT,EAASqS,KAIfY,cACF,WAAYV,EAAMI,EAAMzC,kBAAQ,yEAC5BrQ,cAAM0S,EAAMI,EAAMzC,UAAUpQ,IAC5B6C,KAAKG,gBAAkB4P,EAAyBH,EAAMI,EAAMzC,GAC5DnQ,IAAMmT,EAAQvQ,KAAKwQ,WAAWR,GACxBS,EAAI,IAAIhB,EAASG,EAAM,CACzBc,WAAYH,EAAMG,WAClBC,SAAUJ,EAAMI,SAChBC,WAAYL,EAAMK,WAClBC,KAAM7Q,KAAKsN,YAAYC,GACvBuD,UAAU,IAEd9Q,KAAKC,UAAYmQ,EAAmBpQ,KAAMyQ,GAC1CzQ,KAAKC,UAAUhB,SAASlB,SAAS0S,GACjCzQ,KAAKqB,sBAAwB,IAAI0B,EAAa/C,MAC9CqQ,EAAIU,cAAK/Q,KAAM4P,EAAMI,EAAMzC,UAAUpQ,iRAEzCwC,uBAAcP,GACV,OAAO,GAEX4R,EAAIpB,oBACA,OAAO5P,KAAKG,gBAAgByP,MAEhCoB,EAAIpB,kBAAKA,GACL5P,KAAKC,UAAUhB,SAAS2Q,KAAKA,KAAOA,EACpC5P,KAAKiR,OAAOjR,KAAKiQ,WACjBjQ,KAAKG,gBAAgByP,KAAOA,eAEhCY,oBAAWR,GACP5S,IAAM8T,EAAIlB,EAAKpC,MAAM,KACjBd,EAAI,SACJ6B,EAAIuC,EAAEC,SAAW,GAKrB,OAJyB,IAArBxC,EAAEyC,QAAQ,QACVtE,EAAI6B,EACJA,EAAIuC,EAAEC,SAAW,IAEd,CACHT,WAAY5D,EACZ6D,SAAU9C,QAAQc,GAAK,OAAOhB,QAAQ,KAAM,KAC5CiD,WAAYM,EAAE1C,KAAK,KAAKb,QAAQ,KAAM,MAG9CqD,EAAIhB,oBACA,OAAOhQ,KAAKG,gBAAgB6P,MAEhCgB,EAAIhB,kBAAKA,GACL5S,IAAMmT,EAAQvQ,KAAKwQ,WAAWR,GAC9BhQ,KAAKC,UAAUhB,SAAS2Q,KAAKyB,MAAMV,SAAWJ,EAAMI,SACpD3Q,KAAKC,UAAUhB,SAAS2Q,KAAKyB,MAAMT,WAAaL,EAAMK,WACtD5Q,KAAKG,gBAAgB6P,KAAOA,eAEhC1C,qBAAYC,GACR,OAAOE,SAASF,EAAMhO,MAAM,GAAI,KAEpCyR,EAAIzD,qBACA,OAAOvN,KAAKG,gBAAgBoN,OAEhCyD,EAAIzD,mBAAMA,GACNvN,KAAKC,UAAUhB,SAAS2Q,KAAKyB,MAAMR,KAAO7Q,KAAKsN,YAAYC,GAC3DvN,KAAKG,gBAAgBoN,MAAQA,eAEjC0D,gBAAOK,GACW,SAAVA,EAIU,WAAVA,EAIU,UAAVA,IACAtR,KAAKC,UAAUhB,SAAS2Q,KAAK1P,GAAKF,KAAKC,UAAUhB,SAAS2Q,KAAKtB,OAJ/DtO,KAAKC,UAAUhB,SAAS2Q,KAAK1P,GAAKF,KAAKC,UAAUhB,SAAS2Q,KAAKtB,MAAQ,EAJvEtO,KAAKC,UAAUhB,SAAS2Q,KAAK1P,EAAI,GAYzC8Q,EAAIf,yBACA,OAAOjQ,KAAKG,gBAAgB8P,WAEhCe,EAAIf,uBAAUqB,GACVtR,KAAKC,UAAUhB,SAAS2Q,KAAKyB,MAAMC,MAAQA,EAC3CtR,KAAKiR,OAAOK,GACZtR,KAAKG,gBAAgB8P,UAAYqB,GAErCN,EAAId,0BACA,OAAOlQ,KAAKG,gBAAgB+P,YAEhCc,EAAId,wBAAWqB,GACXvR,KAAKC,UAAUhB,SAAS2Q,KAAKyB,MAAMnB,WAAaqB,EAChDvR,KAAKG,gBAAgB+P,WAAaqB,GAEtCP,EAAIb,yBACA,OAAOnQ,KAAKG,gBAAgBgQ,WAEhCa,EAAIb,uBAAU7B,GACVtO,KAAKC,UAAUhB,SAAS2Q,KAAKyB,MAAMG,cAAgBlD,EACnDtO,KAAKiR,OAAOjR,KAAKiQ,WACjBjQ,KAAKG,gBAAgBgQ,UAAY7B,6CAhGd1O,EAA2BvC,EAASqS,OAoG/DhR,OAAO6I,iBAAiB+I,EAAa9I,UAAW,CAC5CrH,gBAAiB,CACbC,MAAO2P,EAAyB,GAAI,GAAI,IACxCtI,UAAU,GAEdxH,UAAW,CACPG,MAAOgQ,EAAmB5R,EAAa8R,EAAa9I,WAAY,IAAIiI,EAAS,KAC7EhI,UAAU,KAuDlBpK,EAASgF,MAAQL,EACjB3E,EAASkF,QAAUD,EACnBjF,EAAS8H,UAAYC,EACrB/H,EAASuK,OAASI,EAClB3K,EAAS6L,MAAQC,EACjB9L,EAASoM,OAASC,EAClBrM,EAASyM,SAAWc,EACpBvN,EAASqS,KAAOY,EAChBjT,EAASkB,aAAetB,EAExBI,EAASoU,kBAAkBC,UCnuC3BtU,IAEauU,cACZ,WAAYxQ,GACXjE,YAAMiE,oGAF0B9D,EAASuU,OAkB9BC,cAGZ,WAAY1Q,EAAc2Q,GACzB5U,YAAMiE,GAENnB,KAAK+D,KAAO+N,mGANuBH,GAaxBvM,cAiBZ,oEACClI,aAASC,GAET6C,KAAK+R,UAAY/R,KAAKgS,yHAZvBC,sBAAc7S,iBAOd8S,oBAAY9S,iBAQZkG,6EACCpI,YAAMoI,sBAAcnI,GAEpB6C,KAAK+R,UAAY/R,KAAKgS,4BAMvBrS,uBAAcP,GACbhC,IAAMgL,EAAepI,KAAKoI,aAK1B,GAFApI,KAAKmS,QArEW,mBAqEC/S,EAAEgT,OAEfhK,IAAiBpI,KAAKoI,aAAc,CACnCpI,KAAKoI,eAAkBpI,KAAKqS,YAAc,GAC7CrS,KAAKoC,cAAc,IAAIuP,EAAa,iBAGrC,IAAK1T,IAAIuB,EAAI,EAAGA,EAAIQ,KAAKsS,OAAO5S,OAAQF,IAAK,CAC5CpC,IAAM0U,EAAQ9R,KAAKsS,OAAO9S,GAC1B,GAAIQ,KAAKoI,eAAiB0J,EAAMS,SAAU,CACzCvS,KAAKoC,cAAc,IAAIyP,EAAgB,aAAcC,IACrD,QAKH,OAAO5U,YAAMyC,wBAAcP,gBAS5BoT,yBAAgBC,EAAcC,GAC7BtV,IAAMuV,EAAM3S,KAAKyS,GAEZE,GACJC,QAAQC,kBAAkBJ,sBAQ3B,IALArV,IAAM6E,EAAQ,CAAC,IAAK,IAAK,SAAU,SAAU,WAAY,QAAS,QAAS,OAAQ,OAAQ,OAAQ,SAE7FhD,EAAWe,KAAKyS,GAAQ,IAAIC,EAAIC,EAAIG,KAAMH,EAAII,cAAeJ,EAAIK,KAAML,EAAIM,SAASC,UAEpFC,EAASnT,KAAKiT,SAASE,OACpB3T,EAAI,EAAGA,EAAI2T,EAAOzT,OAAQF,IAAK,CACvCpC,IAAMyG,EAASsP,EAAO3T,GAAGqE,OAEzB,GAAIuP,MAAMC,QAAQxP,EAAOyP,OACxB,IAAKrV,IAAIsV,EAAI,EAAGA,EAAI1P,EAAOyP,MAAM5T,OAAQ6T,IACpC1P,EAAOyP,MAAMC,GAAG9C,IAAMkC,IACzB9O,EAAOyP,MAAMC,GAAG9C,EAAIxR,QAGZ4E,IAAW8O,IACrBQ,EAAO3T,GAAGqE,OAAS5E,GAIrB,IAAKhB,IAAIuB,EAAI,EAAGA,EAAIyC,EAAMvC,OAAQF,IACjCP,EAASgD,EAAMzC,IAAMmT,EAAI1Q,EAAMzC,IAQhC,GALImT,EAAIhR,OACP1C,EAAS0C,KAAOgR,EAAIhR,KACpBgR,EAAIhR,KAAO,MAGRgR,EAAI7N,QAAS,CAChB7F,EAAS6F,QAAU6N,EAAI7N,QACvB6N,EAAI7N,QAAU,KAEd1H,IAAMoW,EAAgBvU,EAASuU,cAC/BvU,EAASwU,MAAMD,EAActT,EAAI,EAAGsT,EAAcnT,EAAI,EAAGmT,EAAclF,MAAQ,EAAGkF,EAAcjC,OAAS,GAK1G,OAFAvR,KAAKoH,YAAYuL,GAEV1T,MA1G8ByU,UA8GhCtO,EAAkBoC,UAAsB,oBACxCpC,EAAkBoC,UAAoB,eCjJhCkC,6JAMZiK,wBAAelL,GACdzI,KAAKC,UAAUhB,SAASwJ,QAAUA,MAPAmL,GCAvB5L,6JAMZ2L,wBAAelL,GACdzI,KAAKC,UAAUhB,SAASwJ,QAAUA,MAPAoL,GCFvBC,6JACZC,mBACK/T,KAAKgU,MAAMC,cACbC,OAAOC,KAAOD,OAAOE,WAAWC,gBAAgBrU,KAAKgU,MAAMM,KAG7DtU,KAAKgU,MAAMM,IAAM,OAN4BC,kBAwBlCC,6JACFC,oBAAW5Q,EAAkC6Q,OAE/C3Q,EACAuQ,EACAK,EAHP,sBAD0F,KAEnF5Q,OAAY6Q,eAAe/Q,EAAQ6Q,GACnCJ,EAAMvQ,EAAKuQ,IACXK,EAAM5Q,EAAK4Q,IAEZA,EAIEE,MAAMP,EAAKK,EAAIG,gBAAkB,IACtCC,eAAKpL,GACL,IAAKA,EAAIqL,GACR,MAAMrL,EAAIsL,WAGX,OAAOtL,EAAIuL,UAEXH,eAAKG,GACL,OAAQhB,OAAOC,KAAOD,OAAOE,WAAWe,gBAAgBD,MAExDH,eAAKK,GACL,MAAO,CAAEnB,aAAa,EAAMK,IAAKc,MAf3BC,QAAQC,QAAQ,CAAErB,aAAa,MAAOK,KAkB9CS,eAAKhR,UAAQ,IAAI+P,EAA0B/P,EAAM,SACjDwR,gBAAOnW,UAAW,IAAI0U,EAA0B,CAAEG,aAAa,EAAOK,IAAK,IAAMlV,UA3B7CoW,cChB1BC,6JACZ1B,wBAD0CQ,kBA4D9BmB,6JACFjB,oBAAW5Q,EAA8B6Q,cAClD,sBADkF,IAC3E1U,KAAK2V,aAAa9R,EAAQ6Q,GAC/BK,iBACA3X,IAAMwY,EAAOC,QAAQC,eAAejS,EAAOkS,IAC3C,IAAKH,EACJ,MAAM,IAAII,yBAAyBnS,MAOpC,IAJAzG,IACM6Y,EADuBL,EAAKM,aACQC,WAAWC,SAC/CC,EAAU3B,EAAQ4B,cAAgB,GAE/B9W,EAAI,EAAGA,EAAIyW,EAAUvW,OAAQF,IAAK,CAC1CpC,IAAMgZ,EAAWH,EAAUzW,GAE3B4W,EAAS9B,IAAMiC,QAAYC,WAAW3S,EAAO4S,SAAUL,EAAS9B,IAAK+B,GAGtE,OAAOrW,EAAK0W,oBAAoBT,EAAWvB,GACzCK,iBAGA,IAFA3X,IAAMuZ,EAA8C,kBAAzBjC,EAAmB,aAAkBA,EAAQiC,YAE/DnX,EAAI,EAAGA,EAAIyW,EAAUvW,OAAQF,IAAK,CAC1CpC,IAAMgZ,EAAWH,EAAUzW,GAEvBmX,IACHP,EAASO,aAAc,GAGnBJ,QAAYK,MAAMR,EAAS9B,OAC/B8B,EAASjV,KAAO,SAIlB,OL0kCN,SAAwByU,GACpB,IAAKA,EACD,OAAOP,QAAQwB,OAAO,IAAIb,MAAM,mBAEpC5Y,IAAM0Z,EAAMlB,EAAKM,aACjB,OAAO,IAAIb,kBAASC,EAASuB,GACc,IAAnCC,EAAIX,WAAWC,SAAS1W,QACxB4V,EAAQ,IAEZlY,IAAM2Z,EAAS,IAAI1Z,EAAS2Z,WAAU,GACtCD,EAAOE,cAAc5Z,EAAS6Z,OAC9B9Z,IAAM+Z,EAAS,GACfJ,EAAO7V,iBAAiB,qBAAakW,IA6C7C,SAAwBA,EAAKxB,GACzBxY,IAAMia,EAASzB,EAAK0B,YAChBF,GAAyB,SAAjBA,EAAIG,KAAKpW,OACjBkW,EAAOD,EAAIG,KAAKxB,IAAMqB,EAAII,QA/CtBC,CAAeL,EAAKxB,MAExBmB,EAAO7V,iBAAiB,qBAAakW,GAC7BD,EAAOzX,OACPmX,EAAOM,GAGX7B,EAAQ8B,MAEZL,EAAO7V,iBAAiB,kBAAUkW,GAC9BD,EAAOtV,KAAKuV,EAAIrT,SAEpBgT,EAAOW,aAAaZ,EAAIX,WAAWC,UAAY,OAE9CrB,eAAMqC,GAIP,IAHAha,IAAMqR,EAAKmH,EAAK+B,iBACVC,EAAQR,EAAIvT,OACZgU,EAAaf,EAAIe,WACdrY,EAAI,EAAGA,EAAIqY,EAAWnY,OAAQF,IACnCiP,EAAGoJ,EAAWrY,GAAGiT,MAAQ,IAAIpV,EAASya,YAAY,CAC9CT,OAAQ,CACJO,EAAMG,UAAUF,EAAWrY,GAAGiT,OAElCuF,OAAQH,EAAWrY,GAAGwY,SAG9B,OAAOlB,KKjnCFmB,CAAerC,SAGxBb,eAAK+B,GACL,IAAK7Y,IAAIuB,KAAMsX,EACVA,EAAItX,GAAGgI,qBAAqBpC,IAC/B0R,EAAItX,GAAGgI,UAAUwK,eAAiB8E,EAAIX,WAAW+B,KAInD,OAAO,IAAIzC,EAAsBqB,EAAK,SAEtCvB,gBAAMnW,UAAK,IAAIqW,EAAsB,GAAIrW,mBAGpCuW,sBAAa9R,EAA8B6Q,GAClD,IAAK7Q,EAAOsU,SACX,OAAO9C,QAAQC,UAGhBlY,IAAM+a,EAAW5B,QAAYC,WAAW3S,EAAO4S,SAAU5S,EAAOsU,UAIhE,OAFe,IAAIC,YAELC,UAAUF,EAAUzZ,OAAOmG,OAAO,GAAI6P,EAAS,CAAE2B,QAAS3B,EAAQ4D,aAAe5D,EAAQ2B,WACrGtB,eAAKwD,GACL,GAAIA,EAASC,MACZ,MAAMD,EAASC,MAGhBD,EAASE,sBAIJ/B,6BAAoBT,EAA+BvB,GAG1D,IAFAtX,IAAMsb,EAAmE,GAEhElZ,EAAI,EAAGA,EAAIyW,EAAUvW,OAAQF,IAAK,CAC1CpC,IAAMgZ,EAAWH,EAAUzW,GAEtB+W,QAAYK,MAAMR,EAAS9B,OAIhCoE,EAAQlZ,GAAK4W,EAAS9B,KAGvB,OAAoC,IAAhC5V,OAAOia,KAAKD,GAAShZ,OACjB2V,QAAQC,WAGD,IAAId,GAELoE,aAAaF,EAASha,OAAOmG,OAAO,GAAI6P,EAAS,CAAE2B,QAAS3B,EAAQ4B,cAAgB5B,EAAQ2B,WACxGtB,eAAK8D,GACL,IAAK5a,IAAIuB,KAAKqZ,EAAW,CACxBzb,IAAMmb,EAAWM,EAAUrZ,GAE3B,GAAI+Y,EAASC,MACZ,MAAMD,EAASC,MAGhB,IAAKD,EAASxU,KACb,KAAM,mBAGP3G,IAAM0b,EAAKjL,OAAOrO,GAEbyW,EAAU6C,KAIf7C,EAAU6C,GAAIxE,IAAMuE,EAAUrZ,GAAGuE,KAAKuQ,aA3GRkB,cC7DtBuD,6JACFC,yBACT,OAAO,IAAIC,MAFwBC,gBCHrCC,UAAaC,iBAAiB,WAAYL,GAqB1C1b,EAAS8H,UAAYC,EACrB/H,EAASoM,OAASC,EAClBrM,EAASuK,OAASI,MCdLrD,eAGZ,oEACCzH,aAASC,GAET6C,KAAKqZ,cAAgB,CACpBtD,GAAI,EACJ2C,QAAS,GACTY,KAAM,IAAIC,OAAK,GAAIvZ,OAGpB5C,IAAMsb,EAAU1Y,KAAKqZ,cAAcX,QAEnC1Y,KAAKqZ,cAAcC,KAAKhY,cAAKlC,GAC5B,IAAKnB,IAAIuB,KAAKkZ,EACbA,EAAQlZ,GAAGG,cAAcP,MAG3BY,KAAKqZ,cAAcC,KAAKE,kHAMzBC,oBAAWra,GACVlC,YAAMuc,qBAAWra,GAEjBhC,IAAMkc,EAAOtZ,KAAKqZ,cAAcC,KAE3BtZ,KAAK0Z,aAIVJ,EAAKK,KAAK,CAAEvH,MAAOvT,KAAK+a,IAAIxa,EAAEgT,MAAO,kBAG9ByH,sBAAa1a,cACpB,GAAIA,aAAeiG,EAAmB,CACrChI,IAAM8T,EAAI/R,EAAI7B,KAAKyE,OAEnB5C,EAAI7B,KAAKwE,KAAK,oBACT3C,EAAI7B,KAAKyE,SAAWmP,GACvB/R,EAAI2a,YAAY,GAGjB1c,IAAM2Y,EAAK/V,EAAKqZ,cAActD,KAC9B/V,EAAKqZ,cAAcX,QAAQ3C,GAAM5W,EAEjCA,EAAI7B,KAAKwE,KAAK,6BACN9B,EAAKqZ,cAAcX,QAAQ3C,uBAStCgE,qBAAY5a,GAIX,OAHAa,KAAK6Z,aAAa1a,GAClBa,KAAKjC,SAASoB,EAAI7B,MAEX6B,eAMR6a,uBAAc7a,EAAsBgI,GAInC,OAHAnH,KAAK6Z,aAAa1a,GAClBa,KAAKkH,WAAW/H,EAAI7B,KAAM6J,GAEnBhI,eAMR8a,wBAAe9a,GAGd,OAFAa,KAAKoH,YAAYjI,EAAI7B,MAEd6B,MAlFsB+a,mODODC,EAAuBpW,GACpDoW,EAAQC,WAAW,WAAYrW,EAAM,iCAVLsW,EAA8BtW,GAC9DsW,EAAQC,cAAc,WAAYvW,EAAM"}