{"version":3,"file":"Pixim-animate-container.min.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/Bitmap.ts","../src/Sprite.ts","../src/AnimateLoader.ts","../src/loadJS.ts","../src/AnimateManifest.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.0.5\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nexport { default as createjs } from '@tawaship/createjs-module';\nimport { Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text, utils } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\n/**\r\n * @ignore\r\n */\r\nlet _isDown = false;\r\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._events = {\r\n            pointerdown: [],\r\n            pointerover: [],\r\n            pointerout: [],\r\n            pointermove: [],\r\n            pointerup: [],\r\n            pointerupoutside: []\r\n        };\r\n        this._data = {\r\n            mousedown: {\r\n                types: ['pointerdown'],\r\n                factory: (cb) => {\r\n                    return this._mousedownFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollover: {\r\n                types: ['pointerover'],\r\n                factory: (cb) => {\r\n                    return this._rolloverFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollout: {\r\n                types: ['pointerout'],\r\n                factory: (cb) => {\r\n                    return this._rolloutFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressmove: {\r\n                types: ['pointermove'],\r\n                factory: (cb) => {\r\n                    console.log(cb);\r\n                    return this._pressmoveFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressup: {\r\n                types: ['pointerup', 'pointerupoutside'],\r\n                factory: (cb) => {\r\n                    return this._pressupFactory(cjs, cb);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    add(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        const func = data.factory(cb);\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            this._events[t].push({ func, origin: cb });\r\n            pixi.on(t, func);\r\n        }\r\n        pixi.interactive = true;\r\n    }\r\n    remove(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            const list = this._events[t];\r\n            if (list) {\r\n                for (var j = list.length - 1; j >= 0; j--) {\r\n                    if (list[j].origin === cb) {\r\n                        pixi.off(t, list[j].func);\r\n                        list.splice(j, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                if (list.length === 0) {\r\n                    this._events[t] = [];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _mousedownFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            _isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloverFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            //_isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloutFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            //_isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressmoveFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!_isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressupFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!_isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            _isDown = false;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\nfunction resolvePath(path, basepath) {\r\n    return utils.url.resolve(basepath, path);\r\n}\r\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param comp Composition obtained from `AdobeAn.getComposition`.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(comp, basepath, options = {}) {\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = basepath.replace(/([^\\/])$/, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false);\r\n        loader.installPlugin(createjs.Sound);\r\n        const errors = [];\r\n        loader.addEventListener('fileload', (evt) => {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', (evt) => {\r\n            if (errors.length) {\r\n                reject(errors);\r\n                return;\r\n            }\r\n            resolve(evt);\r\n        });\r\n        loader.addEventListener('error', (evt) => {\r\n            errors.push(evt.data);\r\n        });\r\n        const manifests = [];\r\n        const origin = lib.properties.manifest;\r\n        for (let i = 0; i < origin.length; i++) {\r\n            const o = origin[i];\r\n            const m = {\r\n                src: resolvePath(o.src, basepath),\r\n                id: o.id\r\n            };\r\n            for (let i in o) {\r\n                if (!m[i]) {\r\n                    m[i] = o[i];\r\n                }\r\n            }\r\n            if (options.crossOrigin) {\r\n                m.crossOrigin = true;\r\n            }\r\n            if (o.src.indexOf('data:') === 0) {\r\n                m.type = 'image';\r\n            }\r\n            manifests.push(m);\r\n        }\r\n        loader.loadManifest(manifests);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, loadAssetAsync, resolvePath, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { createjs, CreatejsMovieClip as _CreatejsMovieClip, ITickerData, TCreatejsObject } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\nexport class AnimateEvent extends createjs.Event {\r\n\tconstructor(type: string) {\r\n\t\tsuper(type);\r\n\t}\r\n};\r\n\r\nexport interface IReachLabelData {\r\n\t/**\r\n\t * Label name.\r\n\t */\r\n\tlabel: string;\r\n\t\r\n\t/**\r\n\t * Frame number of label.\r\n\t */\r\n\tposition: number;\r\n}\r\n\r\nexport class ReachLabelEvent extends AnimateEvent {\r\n\tdata: IReachLabelData;\r\n\t\r\n\tconstructor(type: string, label: IReachLabelData) {\r\n\t\tsuper(type);\r\n\t\t\r\n\t\tthis.data = label;\r\n\t}\r\n}\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\t/**\r\n\t * When the last frame of the timeline is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\tendAnimation?(e: AnimateEvent): void {}\r\n\t\r\n\t/**\r\n\t * When either labels is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\treachLabel?(e: ReachLabelEvent): void {}\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tconst currentFrame = this.currentFrame;\r\n\t\t\r\n\t\t// this.advance(e.delta * P);\r\n\t\tthis.advance(P);\r\n\t\t\r\n\t\tif (currentFrame !== this.currentFrame) {\r\n\t\t\tif (this.currentFrame === (this.totalFrames - 1)) {\r\n\t\t\t\tthis.dispatchEvent(new AnimateEvent('endAnimation'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < this.labels.length; i++) {\r\n\t\t\t\tconst label = this.labels[i];\r\n\t\t\t\tif (this.currentFrame === label.position) {\r\n\t\t\t\t\tthis.dispatchEvent(new ReachLabelEvent('reachLabel', label));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Replace child instance\r\n\t * \r\n\t * @param name Name of old instancee.\r\n\t * @param cls Class of new instance.\r\n\t */\r\n\treplaceInstance(name: string, cls: typeof CreatejsMovieClip) {\r\n\t\tconst old = this[name];\r\n\t\t\r\n\t\tif (!old) {\r\n\t\t\tconsole.warn(`instance '${name}' was not found.`);\r\n\t\t}\r\n\t\t\r\n\t\tconst props = ['x', 'y', 'scaleX', 'scaleY', 'rotation', 'skewX', 'skewY', 'regX', 'regY', '_off', 'alpha'];\r\n\t\t\r\n\t\tconst instance = this[name] = new cls(old.mode, old.startPosition, old.loop, old.timeline.reversed);\r\n\t\t\r\n\t\tconst tweens = this.timeline.tweens;\r\n\t\tfor (let i = 0; i < tweens.length; i++) {\r\n\t\t\tconst target = tweens[i].target;\r\n\t\t\t\r\n\t\t\tif (Array.isArray(target.state)) {\r\n\t\t\t\tfor (let j = 0; j < target.state.length; j++) {\r\n\t\t\t\t\tif (target.state[j].t === old) {\r\n\t\t\t\t\t\ttarget.state[j].t = instance;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (target === old) {\r\n\t\t\t\ttweens[i].target = instance;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < props.length; i++) {\r\n\t\t\tinstance[props[i]] = old[props[i]];\r\n\t\t}\r\n\t\t\r\n\t\tif (old.mask) {\r\n\t\t\tinstance.mask = old.mask;\r\n\t\t\told.mask = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (old.filters) {\r\n\t\t\tinstance.filters = old.filters;\r\n\t\t\told.filters = null;\r\n\t\t\t\r\n\t\t\tconst nominalBounds = instance.nominalBounds;\r\n\t\t\tinstance.cache(nominalBounds.x - 2, nominalBounds.y - 2, nominalBounds.width + 4, nominalBounds.height + 4);\r\n\t\t}\r\n\t\t\r\n\t\tthis.removeChild(old);\r\n\t\t\r\n\t\treturn instance;\r\n\t}\r\n}\r\n\r\ndelete(CreatejsMovieClip.prototype.endAnimation);\r\ndelete(CreatejsMovieClip.prototype.reachLabel);","import { Texture } from 'pixi.js';\r\nimport { CreatejsBitmap as _CreatejsBitmap } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsbitmap.html | CreatejsBitmap]]\r\n */\r\nexport class CreatejsBitmap extends _CreatejsBitmap {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { Texture } from 'pixi.js';\r\nimport { CreatejsSprite as _CreatejsSprite } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjssprite.html | CreatejsSprite]]\r\n */\r\nexport class CreatejsSprite extends _CreatejsSprite {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import * as PIXI from 'pixi.js';\r\nimport * as Pixim from '@tawaship/pixim.js';\r\nimport { loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport loadJS from './loadJS';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport type TAnimateLoaderRawResource = IAnimateLibrary;\r\n\r\nexport class AnimateLoaderResource extends Pixim.LoaderResource<TAnimateLoaderRawResource> {\r\n\tdestroy() {\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport interface IAnimateLoaderTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n\t\r\n\t/**\r\n\t * Javascript file path of Animate content.\r\n\t */\r\n\tfilepath?: string;\r\n};\r\n\r\nexport type TAnimateLoaderTarget = IAnimateLoaderTarget;\r\n\r\nexport interface IAnimateLoaderTargetDictionary extends Pixim.ILoaderTargetDictionary<TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderResourceDictionary extends Pixim.ILoaderResourceDictionary<TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderOption extends Pixim.ILoaderOption {\r\n\t\r\n}\r\n\r\nexport class AnimateLoader extends Pixim.LoaderBase<TAnimateLoaderTarget, TAnimateLoaderRawResource> {\r\n\tloadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\treturn this._loadAsync(target, options);\r\n\t}\r\n\t\r\n\tloadAllAsync(targets: IAnimateLoaderTargetDictionary, options: IAnimateLoaderOption = {}) {\r\n\t\tconst res: Pixim.ILoaderResourceDictionary<TAnimateLoaderRawResource>  = {};\r\n\t\t\r\n\t\tif (Object.keys(targets).length === 0) {\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}\r\n\t\t\r\n\t\tconst promises = [];\r\n\t\t\r\n\t\tfor (let i in targets) {\r\n\t\t\tpromises.push(\r\n\t\t\t\tthis.loadAsync(targets[i], options)\r\n\t\t\t\t\t.then(resource => {\r\n\t\t\t\t\t\tres[i] = resource;\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn Promise.all(promises)\r\n\t\t\t.then(() => {\r\n\t\t\t\treturn res;\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tprivate _loadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\tconst basepath = this._resolveBasepath(options.basepath);\r\n\t\tconst version = this._resolveVersion(options.version);\r\n\t\t\r\n\t\tconst p = !target.filepath\r\n\t\t\t? Promise.resolve()\r\n\t\t\t: (() => {\r\n\t\t\t\tconst filepath = Pixim.utils.resolvePath(target.filepath, target.basepath);\r\n\t\t\t\tconst url = this._resolveUrl(filepath, options);\r\n\t\t\t\t\r\n\t\t\t\treturn loadJS(url)\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tthrow `Animate: '${filepath}' cannot load.`;\r\n\t\t\t\t\t});\r\n\t\t\t})();\r\n\t\t\r\n\t\treturn p.then(() => {\r\n\t\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\t\tif (!comp) {\r\n\t\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\t\tconst origin = lib.properties.manifest;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < origin.length; i++) {\r\n\t\t\t\tconst o = origin[i];\r\n\t\t\t\tconst filepath = Pixim.utils.resolvePath(o.src, target.basepath);\r\n\t\t\t\to.src = this._resolveUrl(filepath, options);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn loadAssetAsync(comp, '', target.options);\r\n\t\t})\r\n\t\t.then(lib => {\r\n\t\t\tfor (let i  in lib) {\r\n\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn new AnimateLoaderResource(lib, null);\r\n\t\t})\r\n\t\t.catch((e: any) => {\r\n\t\t\treturn new AnimateLoaderResource({}, e);\r\n\t\t});\r\n\t}\r\n}","export default function loadJS(src: string): Promise<void> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst script = document.createElement('script');\r\n\t\tscript.src = src;\r\n\t\tscript.addEventListener('load', () => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\tresolve();\r\n\t\t});\r\n\t\tscript.addEventListener('error', (e: any) => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\treject(e);\r\n\t\t});\r\n\t\tdocument.body.appendChild(script);\r\n\t});\r\n}","import * as Pixim from '@tawaship/pixim.js';\r\nimport * as AnimateLoader from './AnimateLoader';\r\n\r\nexport interface IAnimateManifestTargetDictionary extends Pixim.IManifestTargetDictionary<AnimateLoader.TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateDictionary extends Pixim.IRawResourceDictionary<AnimateLoader.TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport class AnimateManifest extends Pixim.ManifestBase<AnimateLoader.TAnimateLoaderTarget, AnimateLoader.TAnimateLoaderRawResource> {\r\n\tprotected _loadAsync(targets: IAnimateManifestTargetDictionary, options: AnimateLoader.IAnimateLoaderOption = {}) {\r\n\t\tconst loader = new AnimateLoader.AnimateLoader(options);\r\n\t\t\r\n\t\treturn loader.loadAllAsync(targets);\r\n\t}\r\n}","import { Content as PiximContent } from '@tawaship/pixim.js';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { AnimateManifest, IAnimateManifestTargetDictionary } from './AnimateManifest';\r\nimport { createjs } from '@tawaship/pixi-animate-core';\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\nPiximContent.registerManifest('animates', AnimateManifest);\r\n\r\n/**\r\n * Define animate assets for class.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] class.\r\n */\r\nexport function defineAnimatesTo(Content: typeof PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tContent.defineTargets('animates', data, {});\r\n}\r\n\r\n/**\r\n * Define animate assets for instance.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] instance.\r\n */\r\nexport function addAnimatesTo(content: PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tcontent.addTargets('animates', data, {});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Sprite = CreatejsSprite;","import { Container as _Container, Task, ITickerData } from '@tawaship/pixim.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n\ttask: Task;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {},\r\n\t\t\ttask: new Task([], this)\r\n\t\t};\r\n\t\t\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\t\r\n\t\tthis._createjsData.task.add((e: ITickerData) => {\r\n\t\t\tfor (let i in targets) {\r\n\t\t\t\ttargets[i].updateForPixi(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis._createjsData.task.first();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateTask(e: ITickerData) {\r\n\t\tsuper.updateTask(e);\r\n\t\t\r\n\t\tconst task = this._createjsData.task;\r\n\t\t\r\n\t\tif (!this.taskEnabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttask.done(e);\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","updateForPixi","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","createjs","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","_isDown","EventManager","_events","pointerdown","pointerover","pointerout","pointermove","pointerup","pointerupoutside","_data","mousedown","types","factory","cb","_mousedownFactory","rollover","_rolloverFactory","rollout","_rolloutFactory","pressmove","_pressmoveFactory","pressup","_pressupFactory","add","type","data","func","t","push","origin","on","interactive","remove","j","off","splice","currentTarget","target","ev","rawX","global","x","rawY","y","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","masked","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","child","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","LINE_CAP","BUTT","ROUND","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","resolvePath","path","basepath","utils","url","resolve","MotionGuidePlugin","install","AnimateEvent","Event","ReachLabelEvent","label","framerate","_framerateBase","endAnimation","reachLabel","advance","totalFrames","labels","position","replaceInstance","name","cls","old","console","warn","mode","startPosition","loop","timeline","reversed","tweens","Array","isArray","state","nominalBounds","cache","_CreatejsMovieClip","replaceTexture","_CreatejsBitmap","_CreatejsSprite","AnimateLoaderResource","destroy","Pixim.LoaderResource","AnimateLoader","loadAsync","options","_loadAsync","loadAllAsync","targets","keys","Promise","promises","then","resource","all","src","filepath","_resolveBasepath","_resolveVersion","version","Pixim.utils","_resolveUrl","reject","script","document","createElement","body","appendChild","catch","comp","AdobeAn","getComposition","id","Error","getLibrary","properties","manifest","lib","loader","LoadQueue","installPlugin","Sound","errors","evt","images","getImages","item","result","handleFileLoad","manifests","crossOrigin","loadManifest","getSpriteSheet","queue","ssMetadata","SpriteSheet","getResult","frames","loadAssetAsync","fps","Pixim.LoaderBase","AnimateManifest","AnimateLoader.AnimateLoader","Pixim.ManifestBase","PiximContent","registerManifest","_createjsData","task","Task","first","updateTask","taskEnabled","done","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","content","addTargets","Content","defineTargets"],"mappings":"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"}