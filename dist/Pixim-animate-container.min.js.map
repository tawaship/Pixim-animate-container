{"version":3,"file":"Pixim-animate-container.min.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/Bitmap.ts","../src/Sprite.ts","../src/AnimateLoader.ts","../src/loadJS.ts","../src/AnimateManifest.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.1.1\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nexport { default as createjs } from '@tawaship/createjs-module';\nimport { utils, Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\n/**\r\n * @ignore\r\n */\r\nconst createjsInteractionEvents = {\r\n    mousedown: true,\r\n    pressmove: true,\r\n    pressup: true,\r\n    rollover: true,\r\n    rollout: true,\r\n    click: true\r\n};\r\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._isDown = false;\r\n        this._cjs = cjs;\r\n        this._emitter = new utils.EventEmitter();\r\n        const pixi = cjs.pixi;\r\n        pixi\r\n            .on('pointerdown', this._onPointerDown, this)\r\n            .on('pointermove', this._onPointerMove, this)\r\n            .on('pointerup', this._onPointerUp, this)\r\n            .on('pointerupoutside', this._onPointerUpOutside, this)\r\n            .on('pointertap', this._onPointerTap, this)\r\n            .on('pointerover', this._onPointerOver, this)\r\n            .on('pointerout', this._onPointerOut, this);\r\n    }\r\n    _onPointerDown(e) {\r\n        e.currentTarget = e.currentTarget.createjs;\r\n        e.target = e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._isDown = true;\r\n        this._emitter.emit('mousedown', e);\r\n    }\r\n    _onPointerMove(e) {\r\n        if (!this._isDown) {\r\n            return;\r\n        }\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('pressmove', e);\r\n    }\r\n    _onPointerUp(e) {\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._isDown = false;\r\n        this._emitter.emit('pressup', e);\r\n    }\r\n    _onPointerUpOutside(e) {\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._isDown = false;\r\n        this._emitter.emit('pressup', e);\r\n    }\r\n    _onPointerTap(e) {\r\n        e.currentTarget = this._cjs;\r\n        e.target = e.target && e.target.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('click', e);\r\n    }\r\n    _onPointerOver(e) {\r\n        e.currentTarget = e.currentTarget.createjs;\r\n        e.target = e.currentTarget.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('rollover', e);\r\n    }\r\n    _onPointerOut(e) {\r\n        e.currentTarget = e.currentTarget.createjs;\r\n        e.target = e.currentTarget.createjs;\r\n        const ev = e.data;\r\n        e.rawX = ev.global.x;\r\n        e.rawY = ev.global.y;\r\n        this._emitter.emit('rollout', e);\r\n    }\r\n    add(type, cb) {\r\n        if (!(type in createjsInteractionEvents)) {\r\n            return;\r\n        }\r\n        this._emitter.off(type, cb);\r\n        this._emitter.on(type, cb);\r\n        if (this._emitter.eventNames().length > 0) {\r\n            this._cjs.pixi.interactive = true;\r\n        }\r\n    }\r\n    remove(type, cb) {\r\n        if (!(type in createjsInteractionEvents)) {\r\n            return;\r\n        }\r\n        this._emitter.off(type, cb);\r\n        if (this._emitter.eventNames().length === 0) {\r\n            this._cjs.pixi.interactive = false;\r\n        }\r\n    }\r\n    removeAll(type) {\r\n        if (type && !(type in createjsInteractionEvents)) {\r\n            return;\r\n        }\r\n        this._emitter.removeAllListeners(type);\r\n        if (this._emitter.eventNames().length === 0) {\r\n            this._cjs.pixi.interactive = false;\r\n        }\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.add(type, cb);\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.remove(type, cb);\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    removeAllEventListeners(type, ...args) {\r\n        this._createjsEventManager.removeAll(type);\r\n        return super.removeAllEventListeners(type, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.add(type, cb);\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.remove(type, cb);\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    removeAllEventListeners(type, ...args) {\r\n        this._createjsEventManager.removeAll(type);\r\n        return super.removeAllEventListeners(type, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.add(type, cb);\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.remove(type, cb);\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    removeAllEventListeners(type, ...args) {\r\n        this._createjsEventManager.removeAll(type);\r\n        return super.removeAllEventListeners(type, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.add(type, cb);\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.remove(type, cb);\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    removeAllEventListeners(type, ...args) {\r\n        this._createjsEventManager.removeAll(type);\r\n        return super.removeAllEventListeners(type, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.add(type, cb);\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.remove(type, cb);\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    removeAllEventListeners(type, ...args) {\r\n        this._createjsEventManager.removeAll(type);\r\n        return super.removeAllEventListeners(type, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.add(type, cb);\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            this._createjsEventManager.remove(type, cb);\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    removeAllEventListeners(type, ...args) {\r\n        this._createjsEventManager.removeAll(type);\r\n        return super.removeAllEventListeners(type, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\nfunction resolvePath(path, basepath) {\r\n    return utils.url.resolve(basepath, path);\r\n}\r\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param comp Composition obtained from `AdobeAn.getComposition`.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(comp, basepath, options = {}) {\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = basepath.replace(/([^\\/])$/, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false);\r\n        loader.installPlugin(createjs.Sound);\r\n        const errors = [];\r\n        loader.addEventListener('fileload', (evt) => {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', (evt) => {\r\n            if (errors.length) {\r\n                reject(errors);\r\n                return;\r\n            }\r\n            resolve(evt);\r\n        });\r\n        loader.addEventListener('error', (evt) => {\r\n            errors.push(evt.data);\r\n        });\r\n        const manifests = [];\r\n        const origin = lib.properties.manifest;\r\n        for (let i = 0; i < origin.length; i++) {\r\n            const o = origin[i];\r\n            const m = {\r\n                src: resolvePath(o.src, basepath),\r\n                id: o.id\r\n            };\r\n            for (let i in o) {\r\n                if (!m[i]) {\r\n                    m[i] = o[i];\r\n                }\r\n            }\r\n            if (options.crossOrigin) {\r\n                m.crossOrigin = true;\r\n            }\r\n            if (o.src.indexOf('data:') === 0) {\r\n                m.type = 'image';\r\n            }\r\n            manifests.push(m);\r\n        }\r\n        loader.loadManifest(manifests);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, loadAssetAsync, resolvePath, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { createjs, CreatejsMovieClip as _CreatejsMovieClip, ITickerData, TCreatejsObject } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\nexport class AnimateEvent extends createjs.Event {\r\n\tconstructor(type: string) {\r\n\t\tsuper(type);\r\n\t}\r\n};\r\n\r\nexport interface IReachLabelData {\r\n\t/**\r\n\t * Label name.\r\n\t */\r\n\tlabel: string;\r\n\t\r\n\t/**\r\n\t * Frame number of label.\r\n\t */\r\n\tposition: number;\r\n}\r\n\r\nexport class ReachLabelEvent extends AnimateEvent {\r\n\tdata: IReachLabelData;\r\n\t\r\n\tconstructor(type: string, label: IReachLabelData) {\r\n\t\tsuper(type);\r\n\t\t\r\n\t\tthis.data = label;\r\n\t}\r\n}\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\t/**\r\n\t * When the last frame of the timeline is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\tendAnimation?(e: AnimateEvent): void {}\r\n\t\r\n\t/**\r\n\t * When either labels is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\treachLabel?(e: ReachLabelEvent): void {}\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tconst currentFrame = this.currentFrame;\r\n\t\t\r\n\t\t// this.advance(e.delta * P);\r\n\t\tthis.advance(P);\r\n\t\t\r\n\t\tif (currentFrame !== this.currentFrame) {\r\n\t\t\tif (this.currentFrame === (this.totalFrames - 1)) {\r\n\t\t\t\tthis.dispatchEvent(new AnimateEvent('endAnimation'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < this.labels.length; i++) {\r\n\t\t\t\tconst label = this.labels[i];\r\n\t\t\t\tif (this.currentFrame === label.position) {\r\n\t\t\t\t\tthis.dispatchEvent(new ReachLabelEvent('reachLabel', label));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Replace child instance\r\n\t * \r\n\t * @param name Name of old instancee.\r\n\t * @param cls Class of new instance.\r\n\t */\r\n\treplaceInstance(name: string, cls: typeof CreatejsMovieClip) {\r\n\t\tconst old = this[name];\r\n\t\t\r\n\t\tif (!old) {\r\n\t\t\tconsole.warn(`instance '${name}' was not found.`);\r\n\t\t}\r\n\t\t\r\n\t\tconst props = ['x', 'y', 'scaleX', 'scaleY', 'rotation', 'skewX', 'skewY', 'regX', 'regY', '_off', 'alpha'];\r\n\t\t\r\n\t\tconst instance = this[name] = new cls(old.mode, old.startPosition, old.loop, old.timeline.reversed);\r\n\t\t\r\n\t\tconst tweens = this.timeline.tweens;\r\n\t\tfor (let i = 0; i < tweens.length; i++) {\r\n\t\t\tconst target = tweens[i].target;\r\n\t\t\t\r\n\t\t\tif (Array.isArray(target.state)) {\r\n\t\t\t\tfor (let j = 0; j < target.state.length; j++) {\r\n\t\t\t\t\tif (target.state[j].t === old) {\r\n\t\t\t\t\t\ttarget.state[j].t = instance;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (target === old) {\r\n\t\t\t\ttweens[i].target = instance;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < props.length; i++) {\r\n\t\t\tinstance[props[i]] = old[props[i]];\r\n\t\t}\r\n\t\t\r\n\t\tif (old.mask) {\r\n\t\t\tinstance.mask = old.mask;\r\n\t\t\told.mask = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (old.filters) {\r\n\t\t\tinstance.filters = old.filters;\r\n\t\t\told.filters = null;\r\n\t\t\t\r\n\t\t\tconst nominalBounds = instance.nominalBounds;\r\n\t\t\tinstance.cache(nominalBounds.x - 2, nominalBounds.y - 2, nominalBounds.width + 4, nominalBounds.height + 4);\r\n\t\t}\r\n\t\t\r\n\t\tthis.removeChild(old);\r\n\t\t\r\n\t\treturn instance;\r\n\t}\r\n}\r\n\r\ndelete(CreatejsMovieClip.prototype.endAnimation);\r\ndelete(CreatejsMovieClip.prototype.reachLabel);","import { Texture } from 'pixi.js';\r\nimport { CreatejsBitmap as _CreatejsBitmap } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsbitmap.html | CreatejsBitmap]]\r\n */\r\nexport class CreatejsBitmap extends _CreatejsBitmap {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import { Texture } from 'pixi.js';\r\nimport { CreatejsSprite as _CreatejsSprite } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjssprite.html | CreatejsSprite]]\r\n */\r\nexport class CreatejsSprite extends _CreatejsSprite {\r\n\t/**\r\n\t * Replace texture.\r\n\t * \r\n\t * @param texture Texture to replace.\r\n\t */\r\n\treplaceTexture(texture: Texture) {\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}","import * as PIXI from 'pixi.js';\r\nimport * as Pixim from '@tawaship/pixim.js';\r\nimport { loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport loadJS from './loadJS';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport type TAnimateLoaderRawResource = IAnimateLibrary;\r\n\r\nexport class AnimateLoaderResource extends Pixim.LoaderResource<TAnimateLoaderRawResource> {\r\n\tdestroy() {\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport interface IAnimateLoaderTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n\t\r\n\t/**\r\n\t * Javascript file path of Animate content.\r\n\t */\r\n\tfilepath?: string;\r\n};\r\n\r\nexport type TAnimateLoaderTarget = IAnimateLoaderTarget;\r\n\r\nexport interface IAnimateLoaderTargetDictionary extends Pixim.ILoaderTargetDictionary<TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderResourceDictionary extends Pixim.ILoaderResourceDictionary<TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport interface IAnimateLoaderOption extends Pixim.ILoaderOption {\r\n\t\r\n}\r\n\r\nexport class AnimateLoader extends Pixim.LoaderBase<TAnimateLoaderTarget, TAnimateLoaderRawResource> {\r\n\tloadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\treturn this._loadAsync(target, options);\r\n\t}\r\n\t\r\n\tloadAllAsync(targets: IAnimateLoaderTargetDictionary, options: IAnimateLoaderOption = {}) {\r\n\t\tconst res: Pixim.ILoaderResourceDictionary<TAnimateLoaderRawResource>  = {};\r\n\t\t\r\n\t\tif (Object.keys(targets).length === 0) {\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}\r\n\t\t\r\n\t\tconst promises = [];\r\n\t\t\r\n\t\tfor (let i in targets) {\r\n\t\t\tpromises.push(\r\n\t\t\t\tthis.loadAsync(targets[i], options)\r\n\t\t\t\t\t.then(resource => {\r\n\t\t\t\t\t\tres[i] = resource;\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn Promise.all(promises)\r\n\t\t\t.then(() => {\r\n\t\t\t\treturn res;\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tprivate _loadAsync(target: TAnimateLoaderTarget, options: IAnimateLoaderOption = {}) {\r\n\t\tconst basepath = this._resolveBasepath(options.basepath);\r\n\t\tconst version = this._resolveVersion(options.version);\r\n\t\t\r\n\t\tconst p = !target.filepath\r\n\t\t\t? Promise.resolve()\r\n\t\t\t: (() => {\r\n\t\t\t\tconst filepath = Pixim.utils.resolvePath(target.filepath, target.basepath);\r\n\t\t\t\tconst url = this._resolveUrl(filepath, options);\r\n\t\t\t\t\r\n\t\t\t\treturn loadJS(url)\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tthrow `Animate: '${filepath}' cannot load.`;\r\n\t\t\t\t\t});\r\n\t\t\t})();\r\n\t\t\r\n\t\treturn p.then(() => {\r\n\t\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\t\tif (!comp) {\r\n\t\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\t\tconst origin = lib.properties.manifest;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < origin.length; i++) {\r\n\t\t\t\tconst o = origin[i];\r\n\t\t\t\tconst filepath = Pixim.utils.resolvePath(o.src, target.basepath);\r\n\t\t\t\to.src = this._resolveUrl(filepath, options);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn loadAssetAsync(comp, '', target.options);\r\n\t\t})\r\n\t\t.then(lib => {\r\n\t\t\tfor (let i  in lib) {\r\n\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn new AnimateLoaderResource(lib, null);\r\n\t\t})\r\n\t\t.catch((e: any) => {\r\n\t\t\treturn new AnimateLoaderResource({}, e);\r\n\t\t});\r\n\t}\r\n}","export default function loadJS(src: string): Promise<void> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst script = document.createElement('script');\r\n\t\tscript.src = src;\r\n\t\tscript.addEventListener('load', () => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\tresolve();\r\n\t\t});\r\n\t\tscript.addEventListener('error', (e: any) => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t\treject(e);\r\n\t\t});\r\n\t\tdocument.body.appendChild(script);\r\n\t});\r\n}","import * as Pixim from '@tawaship/pixim.js';\r\nimport * as AnimateLoader from './AnimateLoader';\r\n\r\nexport interface IAnimateManifestTargetDictionary extends Pixim.IManifestTargetDictionary<AnimateLoader.TAnimateLoaderTarget> {\r\n\r\n}\r\n\r\nexport interface IAnimateDictionary extends Pixim.IRawResourceDictionary<AnimateLoader.TAnimateLoaderRawResource> {\r\n\r\n}\r\n\r\nexport class AnimateManifest extends Pixim.ManifestBase<AnimateLoader.TAnimateLoaderTarget, AnimateLoader.TAnimateLoaderRawResource> {\r\n\tprotected _loadAsync(targets: IAnimateManifestTargetDictionary, options: AnimateLoader.IAnimateLoaderOption = {}) {\r\n\t\tconst loader = new AnimateLoader.AnimateLoader(options);\r\n\t\t\r\n\t\treturn loader.loadAllAsync(targets);\r\n\t}\r\n}","import { Content as PiximContent } from '@tawaship/pixim.js';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { AnimateManifest, IAnimateManifestTargetDictionary } from './AnimateManifest';\r\nimport { createjs } from '@tawaship/pixi-animate-core';\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\nPiximContent.registerManifest('animates', AnimateManifest);\r\n\r\n/**\r\n * Define animate assets for class.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] class.\r\n */\r\nexport function defineAnimatesTo(Content: typeof PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tContent.defineTargets('animates', data, {});\r\n}\r\n\r\n/**\r\n * Define animate assets for instance.\r\n * \r\n * @param PiximContent Target [[https://tawaship.github.io/Pixim.js/classes/content.html | Pixim.Content]] instance.\r\n */\r\nexport function addAnimatesTo(content: PiximContent, data: IAnimateManifestTargetDictionary) {\r\n\tcontent.addTargets('animates', data, {});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Sprite = CreatejsSprite;","import { Container as _Container, Task, ITickerData } from '@tawaship/pixim.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n\ttask: Task;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {},\r\n\t\t\ttask: new Task([], this)\r\n\t\t};\r\n\t\t\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\t\r\n\t\tthis._createjsData.task.add((e: ITickerData) => {\r\n\t\t\tfor (let i in targets) {\r\n\t\t\t\ttargets[i].updateForPixi(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis._createjsData.task.first();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateTask(e: ITickerData) {\r\n\t\tsuper.updateTask(e);\r\n\t\t\r\n\t\tconst task = this._createjsData.task;\r\n\t\t\r\n\t\tif (!this.taskEnabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttask.done(e);\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","updateForPixi","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","createjs","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","createjsInteractionEvents","mousedown","pressmove","pressup","rollover","rollout","click","EventManager","_isDown","_cjs","_emitter","utils","EventEmitter","on","_onPointerDown","_onPointerMove","_onPointerUp","_onPointerUpOutside","_onPointerTap","_onPointerOver","_onPointerOut","currentTarget","target","ev","data","rawX","global","x","rawY","y","emit","add","type","cb","off","eventNames","interactive","remove","removeAll","removeAllListeners","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","removeAllEventListeners","masked","push","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","child","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","LINE_CAP","BUTT","ROUND","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","t","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","resolvePath","path","basepath","url","resolve","MotionGuidePlugin","install","AnimateEvent","Event","ReachLabelEvent","label","framerate","_framerateBase","endAnimation","reachLabel","advance","totalFrames","labels","position","replaceInstance","name","cls","old","console","warn","mode","startPosition","loop","timeline","reversed","tweens","Array","isArray","state","j","nominalBounds","cache","_CreatejsMovieClip","replaceTexture","_CreatejsBitmap","_CreatejsSprite","AnimateLoaderResource","destroy","Pixim.LoaderResource","AnimateLoader","loadAsync","options","_loadAsync","loadAllAsync","targets","keys","Promise","promises","then","resource","all","src","filepath","_resolveBasepath","_resolveVersion","version","Pixim.utils","_resolveUrl","reject","script","document","createElement","body","appendChild","catch","comp","AdobeAn","getComposition","id","Error","origin","getLibrary","properties","manifest","lib","loader","LoadQueue","installPlugin","Sound","errors","evt","images","getImages","item","result","handleFileLoad","manifests","crossOrigin","loadManifest","getSpriteSheet","queue","ssMetadata","SpriteSheet","getResult","frames","loadAssetAsync","fps","Pixim.LoaderBase","AnimateManifest","AnimateLoader.AnimateLoader","Pixim.ManifestBase","PiximContent","registerManifest","_createjsData","task","Task","first","updateTask","taskEnabled","done","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","content","addTargets","Content","defineTargets"],"mappings":"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"}